{"version":3,"sources":["eqc.min.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","_interopRequireDefault","obj","__esModule","default","_LatexParser","_LatexParser2","_Logmon","eqc","Parser","addToWindow","windowInstance","console","log","window","./parsing/LatexParser","./utility_services/Logmon",2,"_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","_IdGenerator","_IdGenerator2","MathObject","type","this","id","nextId","order","minussign","reduced","exponent","parent","name","depth","variable","../utility_services/IdGenerator",3,"_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","_MathObject2","_MathObject3","MathBracketed","_MathObject","contentList","_this","getPrototypeOf","content","checkIfBracketsNeeded","latex","toLatex","isBracketed","toLatexWithoutBrackets","../MathObject",4,"MathEquation","leftside","rightside","latexSide","side","string","stringSide","toString",5,"MathOperation","factorone","factortwo","firstfactor","operation","secondfactor","isfraction","first","isType","second",6,"MathTerm","val","getValue","containsExponent",7,"MathBinomial","apply","arguments",8,"MathFactorial",9,"MathProbabilty",10,"Evaluator","inputChar","test","signed","currentChar","lastChar","list","component",11,"_Logmon2","_Evaluator","_Evaluator2","_Logger","_Logger2","_MathEquation","_MathEquation2","_MathTerm","_MathTerm2","_MathOperation","_MathOperation2","_MathBracketed","_MathBracketed2","_MathProbability","_MathProbability2","_MathBinomial","_MathFactorial","_MathFactorial2","Logcal","getLogger","LatexParser","input","index","status","bad","variables","resetLogs","start","setInput","equation","parseToChar","append","end","exitingChar","negative","getLastChar","getChar","isParsableComponent","parseNextComponent","switchSign","push","isConjoinedMultiplication","createMultiplicationFromList","parseChar","parseSign","parseIfExponent","setExponent","currentlyParsed","parseIfWhitespace","isNext","parseProbability","parseTerm","isTerm","parseCommand","splice","term","lower","factorial","isNumeric","isAlpha","addAlphaCharToVariables","c","MathSymbol","parseFloat","parseIfChar","parseCurlyBracketed","reduceAndReturnIfPossible","command","parseMultiplication","parseFraction","parseRoundBracketed","parseSum","parseBinomial","complement","skipToChar","symbol","_content","firstlist","secondlist","returnContentIfPossible","bracketed","probability","varlist","alphaChar","charAt","requiredChar","isSign","isWhitespace","substring","../math-components/basic/MathBracketed","../math-components/basic/MathEquation","../math-components/basic/MathOperation","../math-components/basic/MathTerm","../math-components/probability/MathBinomial","../math-components/probability/MathFactorial","../math-components/probability/MathProbability","../utility_services/Logger","../utility_services/Logmon","./Evaluator",12,"Formulator","formulas",13,"IdGenerator","nextid",14,"Logger","undefined","_typeof","Symbol","iterator","_Formulator","_Formulator2","message","msg","stepName","formula","formulaName","variation","getFormulaByName","variations","./Formulator",15,"Logmon","windowRef","loggers","testing","consoling","logger","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","next","done","err","map","size","currentIndent","indent","timer","testRunning","testLevel","level","what","where","performance","now","timed","logged","asString","indexOf","join","mockWindow","logmon","createLoggerWithOptions"],"mappings":"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","file":"eqc.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\"use strict\";\n\nvar _LatexParser = require(\"./parsing/LatexParser\");\n\nvar _LatexParser2 = _interopRequireDefault(_LatexParser);\n\nvar _Logmon = require(\"./utility_services/Logmon\");\n\nvar _Logmon2 = _interopRequireDefault(_Logmon);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Logmon.createLoggerWithOptions(\"Logcal\", true, true);\n\n// let eqc = {\n//   Calculator: {\n\n//   },\n//   MathComponents: {\n//     Basic: {\n//       MathTerm,\n//       MathOperation,\n//     },\n//     MathObject,\n//   },\n//   Parsing: {\n//     LatexParser,\n//   },\n//   UtilityServices: {\n//     IDG,\n//     Orderer,\n//     Penis: \"afhh\",\n//   }\n// };\n\n// import MathObject from \"./math-components/MathObject\";\n// import MathTerm from \"./math-components/basic/MathTerm\";\n// import MathOperation from \"./math-components/basic/MathOperation\";\n\nvar eqc = {\n  Parser: new _LatexParser2.default()\n};\n\n// import IDG from \"./utility_services/IdGenerator\";\n// import Orderer from \"./utility_services/Orderer\";\n\n/*\r\n * Instance of Logmon used for logging\r\n * And logging is needed, trust me\r\n */\n\nvar addToWindow = function addToWindow(windowInstance) {\n  if (windowInstance) {\n    console.log(\"wee window\");\n    window.eqc = eqc;\n  }\n};\n\naddToWindow(window);\nmodule.exports = eqc;\n\n},{\"./parsing/LatexParser\":11,\"./utility_services/Logmon\":15}],2:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _IdGenerator = require(\"../utility_services/IdGenerator\");\n\nvar _IdGenerator2 = _interopRequireDefault(_IdGenerator);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar MathObject = function () {\n  function MathObject(type) {\n    _classCallCheck(this, MathObject);\n\n    this.type = type;\n    this.id = _IdGenerator2.default.nextId();\n    this.order = -1;\n    this.minussign = false;\n    this.reduced = false;\n    this.exponent = \"\";\n    this.parent = null;\n  }\n\n  _createClass(MathObject, [{\n    key: \"setType\",\n    value: function setType(name) {\n      this.type = name;\n    }\n  }, {\n    key: \"isType\",\n    value: function isType(name) {\n      return this.type === name;\n    }\n  }, {\n    key: \"setExponent\",\n    value: function setExponent(exponent) {\n      this.exponent = exponent;\n      // throw new TypeError(`${this.type} must override method setExponent`);\n    }\n  }, {\n    key: \"containsExponent\",\n    value: function containsExponent() {\n      return this.exponent && this.exponent.length !== 0;\n    }\n    /*\r\n     * Below all the methods to be overridden\r\n     */\n\n  }, {\n    key: \"setOrder\",\n    value: function setOrder(depth) {\n      throw new TypeError(this.type + \" must override method setOrder\");\n    }\n  }, {\n    key: \"returnContentList\",\n    value: function returnContentList() {\n      throw new TypeError(this.type + \" must override method returnContentList\");\n    }\n  }, {\n    key: \"switchSign\",\n    value: function switchSign() {\n      throw new TypeError(this.type + \" must override method switchSign\");\n    }\n  }, {\n    key: \"isEqual\",\n    value: function isEqual() {\n      throw new TypeError(this.type + \" must override method isEqual\");\n    }\n  }, {\n    key: \"isTerm\",\n    value: function isTerm() {\n      throw new TypeError(this.type + \" must override method isTerm\");\n    }\n  }, {\n    key: \"isOperation\",\n    value: function isOperation() {\n      throw new TypeError(this.type + \" must override method isOperation\");\n    }\n  }, {\n    key: \"isBracketed\",\n    value: function isBracketed() {\n      throw new TypeError(this.type + \" must override method isBracketed\");\n    }\n  }, {\n    key: \"isSpecial\",\n    value: function isSpecial() {\n      throw new TypeError(this.type + \" must override method isSpecial\");\n    }\n  }, {\n    key: \"isEmpty\",\n    value: function isEmpty() {\n      throw new TypeError(this.type + \" must override method isEmpty\");\n    }\n  }, {\n    key: \"includesVariable\",\n    value: function includesVariable(variable) {\n      throw new TypeError(this.type + \" must override method includesVariable\");\n    }\n  }, {\n    key: \"toLatex\",\n    value: function toLatex() {\n      throw new TypeError(this.type + \" must override method toLatex\");\n    }\n  }]);\n\n  return MathObject;\n}();\n\nexports.default = MathObject;\n\n},{\"../utility_services/IdGenerator\":13}],3:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _MathObject2 = require(\"../MathObject\");\n\nvar _MathObject3 = _interopRequireDefault(_MathObject2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar MathBracketed = function (_MathObject) {\n  _inherits(MathBracketed, _MathObject);\n\n  function MathBracketed(contentList) {\n    _classCallCheck(this, MathBracketed);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(MathBracketed).call(this, \"Bracketed\"));\n\n    _this.content = contentList;\n    return _this;\n  }\n\n  _createClass(MathBracketed, [{\n    key: \"checkIfBracketsNeeded\",\n    value: function checkIfBracketsNeeded() {\n      return this.exponent || this.minussign || this.content.length !== 1;\n    }\n  }, {\n    key: \"returnContentIfPossible\",\n    value: function returnContentIfPossible() {\n      if (!this.checkIfBracketsNeeded()) {\n        return this.content[0];\n      }\n      return this;\n    }\n  }, {\n    key: \"toLatex\",\n    value: function toLatex() {\n      var latex = this.minussign ? \"-\\\\left(\" : \"\\\\left(\";\n      for (var i = 0; i < this.content.length; i++) {\n        if (this.content[i].minussign) {\n          latex += this.content[i].toLatex();\n        } else {\n          if (i !== 0) {\n            latex += \"+\";\n          }\n          latex += this.content[i].toLatex();\n        }\n      }\n      latex += \"\\\\right)\";\n      if (this.exponent) {\n        latex += \"^{\";\n        if (this.exponent.isBracketed()) {\n          latex += this.exponent.toLatexWithoutBrackets();\n        } else {\n          latex += this.exponent.toLatex();\n        }\n        latex += \"}\";\n      }\n      return latex;\n    }\n  }]);\n\n  return MathBracketed;\n}(_MathObject3.default);\n\nexports.default = MathBracketed;\n\n},{\"../MathObject\":2}],4:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _MathObject2 = require(\"../MathObject\");\n\nvar _MathObject3 = _interopRequireDefault(_MathObject2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar MathEquation = function (_MathObject) {\n  _inherits(MathEquation, _MathObject);\n\n  function MathEquation() {\n    _classCallCheck(this, MathEquation);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(MathEquation).call(this, \"Equation\"));\n\n    _this.leftside = [];\n    _this.rightside = [];\n    return _this;\n  }\n\n  _createClass(MathEquation, [{\n    key: \"toLatex\",\n    value: function toLatex() {\n      var latex = \"\";\n      var latexSide = function latexSide(side) {\n        for (var i = 0; i < side.length; i++) {\n          if (side[i].minussign) {\n            latex += side[i].toLatex();\n          } else {\n            if (i !== 0) {\n              latex += \"+\";\n            }\n            latex += side[i].toLatex();\n          }\n        }\n      };\n      latexSide(this.leftside);\n      latex += \"=\";\n      latexSide(this.rightside);\n      return latex;\n    }\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      var string = \"\";\n      var stringSide = function stringSide(side) {\n        for (var i = 0; i < side.length; i++) {\n          if (!side[i].minussign && i !== 0) {\n            string += \"+\";\n          }\n          string += side[i].toString();\n        }\n      };\n      stringSide(this.leftside);\n      string += \" = \";\n      stringSide(this.rightside);\n      return string;\n    }\n  }]);\n\n  return MathEquation;\n}(_MathObject3.default);\n\nexports.default = MathEquation;\n\n},{\"../MathObject\":2}],5:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _MathObject2 = require(\"../MathObject\");\n\nvar _MathObject3 = _interopRequireDefault(_MathObject2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar MathOperation = function (_MathObject) {\n  _inherits(MathOperation, _MathObject);\n\n  function MathOperation(factorone, type, factortwo) {\n    _classCallCheck(this, MathOperation);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(MathOperation).call(this, \"Operation\"));\n\n    _this.firstfactor = factorone;\n    _this.operation = type === \"(\" ? \"*\" : type;\n    _this.secondfactor = factortwo;\n\n    _this.isfraction = _this.operation === \"/\";\n    return _this;\n  }\n\n  _createClass(MathOperation, [{\n    key: \"toLatex\",\n    value: function toLatex() {\n      var latex = this.minussign ? \"-\" : \"\";\n      if (this.operation === \"*\") {\n        latex += this.firstfactor.toLatex() + \"\\\\cdot \" + this.secondfactor.toLatex();\n      } else {\n        // sulut n�ytt�� rumilta jos jakolasku. jos minus sulut s�ilyy\n        var first = this.firstfactor.isType(\"Bracketed\") ? this.firstfactor.toLatexWithoutBrackets() : this.firstfactor.toLatex();\n        var second = this.secondfactor.isType(\"Bracketed\") ? this.secondfactor.toLatexWithoutBrackets() : this.secondfactor.toLatex();\n        latex += \"\\\\frac{\" + first + \"}{\" + second + \"}\";\n      }\n      if (this.exponent) {\n        latex += \"^{\";\n        if (this.exponent.isBracketed()) {\n          latex += this.exponent.toLatexWithoutBrackets();\n        } else {\n          latex += this.exponent.toLatex();\n        }\n        latex += \"}\";\n      }\n      return latex;\n    }\n  }]);\n\n  return MathOperation;\n}(_MathObject3.default);\n\nexports.default = MathOperation;\n\n},{\"../MathObject\":2}],6:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _MathObject2 = require(\"../MathObject\");\n\nvar _MathObject3 = _interopRequireDefault(_MathObject2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar MathTerm = function (_MathObject) {\n  _inherits(MathTerm, _MathObject);\n\n  function MathTerm(variable, value, exponent) {\n    _classCallCheck(this, MathTerm);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(MathTerm).call(this, \"Term\"));\n\n    _this.variable = variable;\n    _this.value = value;\n    // this.value = new Big(value);\n    _this.exponent = exponent;\n    return _this;\n  }\n\n  _createClass(MathTerm, [{\n    key: \"getValue\",\n    value: function getValue() {\n      return this.value;\n      // return parseFloat(this.value.toString());\n    }\n  }, {\n    key: \"toLatex\",\n    value: function toLatex() {\n      var latex = \"\";\n      var val = this.getValue();\n      if (!this.variable) {\n        latex += val;\n      } else if (val === 1 && this.variable) {\n        latex += this.variable;\n      } else if (val === -1 && this.variable) {\n        latex += \"-\" + this.variable;\n      } else {\n        latex += val + this.variable;\n      }\n      if (this.containsExponent()) {\n        latex += \"^{\";\n        if (this.exponent.isBracketed()) {\n          latex += this.exponent.toLatexWithoutBrackets();\n        } else {\n          latex += this.exponent.toLatex();\n        }\n        latex += \"}\";\n      }\n      return latex;\n    }\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      var latex = \"\";\n      var val = this.getValue();\n      if (!this.variable) {\n        latex += val;\n      } else if (val === 1 && this.variable) {\n        latex += this.variable;\n      } else if (val === -1 && this.variable) {\n        latex += \"-\" + this.variable;\n      } else {\n        latex += val + this.variable;\n      }\n      if (this.containsExponent()) {\n        latex += \"^{\";\n        if (this.exponent.isBracketed()) {\n          latex += this.exponent.toString();\n        } else {\n          latex += this.exponent.toString();\n        }\n        latex += \"}\";\n      }\n      return latex;\n    }\n  }]);\n\n  return MathTerm;\n}(_MathObject3.default);\n\nexports.default = MathTerm;\n\n},{\"../MathObject\":2}],7:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _MathObject2 = require(\"../MathObject\");\n\nvar _MathObject3 = _interopRequireDefault(_MathObject2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar MathBinomial = function (_MathObject) {\n  _inherits(MathBinomial, _MathObject);\n\n  function MathBinomial() {\n    _classCallCheck(this, MathBinomial);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(MathBinomial).apply(this, arguments));\n  }\n\n  return MathBinomial;\n}(_MathObject3.default);\n\nexports.default = MathBinomial;\n\n},{\"../MathObject\":2}],8:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _MathObject2 = require(\"../MathObject\");\n\nvar _MathObject3 = _interopRequireDefault(_MathObject2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar MathFactorial = function (_MathObject) {\n  _inherits(MathFactorial, _MathObject);\n\n  function MathFactorial() {\n    _classCallCheck(this, MathFactorial);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(MathFactorial).apply(this, arguments));\n  }\n\n  return MathFactorial;\n}(_MathObject3.default);\n\nexports.default = MathFactorial;\n\n},{\"../MathObject\":2}],9:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _MathObject2 = require(\"../MathObject\");\n\nvar _MathObject3 = _interopRequireDefault(_MathObject2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar MathProbabilty = function (_MathObject) {\n  _inherits(MathProbabilty, _MathObject);\n\n  function MathProbabilty() {\n    _classCallCheck(this, MathProbabilty);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(MathProbabilty).apply(this, arguments));\n  }\n\n  return MathProbabilty;\n}(_MathObject3.default);\n\nexports.default = MathProbabilty;\n\n},{\"../MathObject\":2}],10:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Evaluator = function () {\n  function Evaluator() {\n    _classCallCheck(this, Evaluator);\n  }\n\n  _createClass(Evaluator, [{\n    key: \"isTerm\",\n    value: function isTerm(inputChar) {\n      return inputChar >= \"0\" && inputChar <= \"9\" || /^[a-zA-Z]*$/.test(inputChar);\n    }\n  }, {\n    key: \"isNumeric\",\n    value: function isNumeric(inputChar) {\n      return inputChar >= \"0\" && inputChar <= \"9\" || inputChar === \".\";\n    }\n  }, {\n    key: \"isAlpha\",\n    value: function isAlpha(inputChar) {\n      return (/^[a-zA-Z]*$/.test(inputChar)\n      );\n    }\n  }, {\n    key: \"isSign\",\n    value: function isSign(inputChar) {\n      return (/^[\\-]|[\\+]/.test(inputChar)\n      );\n    }\n  }, {\n    key: \"isWhitespace\",\n    value: function isWhitespace(inputChar) {\n      return inputChar === \" \" || inputChar === \"\\t\" || inputChar === \"\\n\";\n    }\n  }, {\n    key: \"isParsableComponent\",\n    value: function isParsableComponent(inputChar) {\n      return inputChar >= \"0\" && inputChar <= \"9\" || /^[a-zA-Z]*$/.test(inputChar) || inputChar === \"\\\\\";\n    }\n  }, {\n    key: \"isConjoinedMultiplication\",\n    value: function isConjoinedMultiplication(signed, currentChar, lastChar, list, component) {\n      return !signed && currentChar !== \"\\\\\" && lastChar !== \"=\" && list.length > 1 && list[list.length - 2].type !== \"Symbol\" && component.type !== \"Symbol\";\n    }\n  }]);\n\n  return Evaluator;\n}();\n\nexports.default = Evaluator;\n\n},{}],11:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Logmon = require(\"../utility_services/Logmon\");\n\nvar _Logmon2 = _interopRequireDefault(_Logmon);\n\nvar _Evaluator = require(\"./Evaluator\");\n\nvar _Evaluator2 = _interopRequireDefault(_Evaluator);\n\nvar _Logger = require(\"../utility_services/Logger\");\n\nvar _Logger2 = _interopRequireDefault(_Logger);\n\nvar _MathEquation = require(\"../math-components/basic/MathEquation\");\n\nvar _MathEquation2 = _interopRequireDefault(_MathEquation);\n\nvar _MathTerm = require(\"../math-components/basic/MathTerm\");\n\nvar _MathTerm2 = _interopRequireDefault(_MathTerm);\n\nvar _MathOperation = require(\"../math-components/basic/MathOperation\");\n\nvar _MathOperation2 = _interopRequireDefault(_MathOperation);\n\nvar _MathBracketed = require(\"../math-components/basic/MathBracketed\");\n\nvar _MathBracketed2 = _interopRequireDefault(_MathBracketed);\n\nvar _MathProbability = require(\"../math-components/probability/MathProbability\");\n\nvar _MathProbability2 = _interopRequireDefault(_MathProbability);\n\nvar _MathBinomial = require(\"../math-components/probability/MathBinomial\");\n\nvar _MathBinomial2 = _interopRequireDefault(_MathBinomial);\n\nvar _MathFactorial = require(\"../math-components/probability/MathFactorial\");\n\nvar _MathFactorial2 = _interopRequireDefault(_MathFactorial);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Logcal = _Logmon2.default.getLogger(\"Logcal\");\n\nvar LatexParser = function () {\n  function LatexParser() {\n    _classCallCheck(this, LatexParser);\n\n    this.Evaluator = new _Evaluator2.default();\n    this.input = \"\";\n    this.index = 0;\n    this.status = \"\";\n    this.bad = 0;\n    this.variables = {};\n  }\n\n  _createClass(LatexParser, [{\n    key: \"setInput\",\n    value: function setInput(latex) {\n      this.input = latex;\n      this.index = 0;\n      this.status = \"\";\n      this.bad = 0;\n      this.variables = {};\n      _Logger2.default.resetLogs();\n    }\n  }, {\n    key: \"parseEquation\",\n    value: function parseEquation(latex) {\n      Logcal.start(\"LatexParser parseEquation(latex): \" + latex);\n      // Logcal.timerStart(\"LatexParser parseEquation\");\n\n      this.setInput(latex);\n      var equation = new _MathEquation2.default();\n      // try {\n      equation.leftside = this.parseToChar(\"=\");\n      equation.rightside = this.parseToChar(\"\\\\\\\\\");\n      // } catch (e) {\n      //   console.log(\"LatexParser errored!\", e);\n      //   this.status = \"Parser error\";\n      // }\n\n      // Logcal.timerEnd(\"LatexParser parseEquation\");\n      Logcal.append(\"equation(latex) \" + equation.toLatex());\n      Logcal.end(\"FROM LatexParser parseEquation(latex): RETURN equation \" + equation.toLatex());\n      return equation;\n    }\n  }, {\n    key: \"parseToChar\",\n    value: function parseToChar(exitingChar) {\n      Logcal.start(\"parseToChar(exitingChar): \" + exitingChar);\n      var list = [],\n          lastChar = \"\",\n          currentChar = \"\",\n          negative = false,\n          signed = false,\n          component = null;\n\n      while (this.index < this.input.length) {\n        if (this.bad === 10) return list;\n        lastChar = this.getLastChar(this.index);\n        currentChar = this.getChar();\n\n        if (this.Evaluator.isParsableComponent(currentChar)) {\n          component = this.parseNextComponent(list, signed);\n          if (component) {\n            if (negative) {\n              component.switchSign();\n            }\n            list.push(component);\n            // checks for if current component was command > no multiplication as is it handled\n            // also for not self/previous component being Symbol if inside probability\n            if (this.Evaluator.isConjoinedMultiplication(signed, currentChar, lastChar, list, component)) {\n              Logcal.append(\"isConjoinedMultiplication === TRUE\");\n              Logcal.append(\">CreateMultiplactionFromList(list) list \" + list);\n              this.createMultiplicationFromList(list);\n            }\n            negative = false;\n            signed = false;\n          }\n        } else if (currentChar === exitingChar) {\n          if (this.index !== this.input.length - 1) {\n            this.parseChar();\n          }\n          Logcal.append(\"currentChar === exitingChar\");\n          Logcal.end(\"FROM parseToChar(exitingchar): \" + exitingChar + \" RETURN list \" + list);\n          return list;\n        } else if (currentChar === \"-\" || currentChar === \"+\") {\n          signed = true;\n          negative = this.parseSign();\n        } else if (currentChar === \"^\") {\n          component = this.parseIfExponent();\n          if (component) {\n            list[list.length - 1].setExponent(exponent);\n          }\n          // negative = false; // how could these even be possible??\n          // signed = false;\n        } else if (currentChar === \"_\") {\n            console.log(\"underscore _ inputted inside parseToChar and it's not implemented.. :/\");\n            this.index++;\n          } else if (currentChar === \"!\") {\n            // factorials aren't consumed in parseBracketed?..\n            this.index++;\n          } else if (currentChar === \"}\" || currentChar === \")\") {\n            // do nutting, just consume the char?\n            this.index++;\n          } else {\n            this.bad++;\n            this.index++;\n            if (this.bad === 10) {\n              console.log(\"too many bad characters \" + this.currentlyParsed());\n              this.status = \"Bad input\";\n              Logcal.end(\"FROM parseToChar(exitingChar): \" + exitingChar + \" RETURN list \" + list);\n              throw new Error(\"Bad input\");\n            }\n            negative = false;\n            signed = false;\n          }\n      }\n      Logcal.end(\"FROM parseToChar(exitingChar): RETURN list \" + list);\n      return list;\n    }\n  }, {\n    key: \"parseNextComponent\",\n    value: function parseNextComponent(list, signed) {\n      Logcal.start(\"parseNextComponent(list, signed): \" + list + \", \" + signed);\n      var component = null,\n          currentChar = this.parseIfWhitespace();\n\n      // this.parseIfWhitespace();\n      // currentChar = this.input.charAt(this.index);\n\n      if (currentChar === \"P\") {\n        if (this.isNext(\"\\\\left(\")) {\n          component = this.parseProbability();\n        } else {\n          component = this.parseTerm();\n        }\n      } else if (this.Evaluator.isTerm(currentChar)) {\n        component = this.parseTerm();\n      } else if (currentChar === \"\\\\\") {\n        this.parseCommand(list, signed);\n        component = list.splice(list.length - 1, 1)[0];\n        // component = list[list.length-1];\n      } else {\n          console.log(\"Unknown currentChar(\" + currentChar + \") in parseNextComponent\");\n          Logcal.end(\"FROM parseNextComponent(list, signed): RETURN component \" + component);\n          throw new TypeError(\"Unknown currentChar \" + currentChar + \" in parseNextComponent\");\n          // return component;\n        }\n      Logcal.end(\"FROM parseNextComponent(list, signed): RETURN component \" + component);\n      return component;\n    }\n  }, {\n    key: \"parseTerm\",\n    value: function parseTerm() {\n      Logcal.start(\"parseTerm():\");\n      var value = \"\",\n          variable = \"\",\n          term = void 0,\n          exponent = void 0,\n          lower = \"\",\n          currentChar = this.getChar(),\n          factorial = false;\n\n      while (this.Evaluator.isNumeric(currentChar)) {\n        value += currentChar;\n        currentChar = this.parseChar();\n      }\n      while (this.Evaluator.isAlpha(currentChar)) {\n        variable += currentChar;\n        // maybe add crazy functionality for xx notation which is x^2\n        this.addAlphaCharToVariables(currentChar);\n        currentChar = this.parseChar();\n      }\n      if (currentChar === \"!\") {\n        // factorial\n        factorial = true;\n        currentChar = this.parseChar();\n      }\n      if (currentChar === \"_\") {\n        // has a underscore notation\n        currentChar = this.parseChar();\n        if (currentChar === \"{\") {\n          lower = this.parseToChar(\"}\");\n        } else {\n          // only one component which is term???\n          lower = this.parseTerm();\n        }\n      }\n      currentChar = this.getChar(); // or parseChar??\n      exponent = this.parseIfExponent();\n      if (currentChar === \"'\") {\n        Logcal.append(\"Transforming Term into complement\");\n        c = this.parseChar();\n        exponent = new MathSymbol(\"mathsf{c}\");\n      }\n      value = value.length === 0 ? 1 : parseFloat(value);\n      term = new _MathTerm2.default(variable, value, exponent);\n      if (factorial) {\n        Logcal.append(\"Whops 'Term' was actually factorial\");\n        term = new _MathFactorial2.default(term);\n      }\n      Logcal.end(\"FROM parseTerm(): RETURN term \" + term);\n      return term;\n    }\n  }, {\n    key: \"parseIfExponent\",\n    value: function parseIfExponent() {\n      Logcal.start(\"parseIfExponent():\");\n      var currentChar = this.parseIfChar(\"^\");\n      var exponent = \"\";\n      if (currentChar) {\n        if (currentChar === \"{\") {\n          var list = [];\n          this.parseCurlyBracketed(list);\n          exponent = list[0].reduceAndReturnIfPossible();\n        } else {\n          exponent = this.parseTerm();\n        }\n      }\n      Logcal.end(\"FROM parseIfExponent(): RETURN exponent \" + exponent);\n      return exponent;\n    }\n  }, {\n    key: \"parseCommand\",\n    value: function parseCommand(list, signed) {\n      Logcal.append(\"parseCommand(list, signed): \" + list + \", \" + signed);\n      var command = \"\",\n          lastChar = this.getLastChar(),\n          currentChar = this.parseChar(); // consuming \\\n\n      while (this.Evaluator.isAlpha(currentChar)) {\n        command += currentChar;\n        currentChar = this.parseChar();\n        if (command.length === 10) {\n          throw \"overly long string in parseCommand \" + command;\n        }\n      }\n      Logcal.append(\"Command is \" + command);\n      switch (command) {\n        case \"cdot\":\n          this.parseMultiplication(list);\n          break;\n        case \"frac\":\n          this.parseFraction(list);\n          if (!signed && lastChar !== \"=\" && list.length > 1) {\n            Logcal.append(\"IF TRUE !signed && \" + lastChar + \" !== \\\"=\\\" && \" + list.length + \">1\");\n            Logcal.append(\">CreateMultiplactionFromList(list) list \" + list);\n            this.createMultiplicationFromList(list);\n          }\n          break;\n        case \"left\":\n          if (currentChar === \"(\" && (signed || lastChar === \"=\" || list.length === 0)) {\n            this.parseRoundBracketed(list);\n          } else if (currentChar === \"(\") {\n            this.parseMultiplication(list);\n          } else {\n            // unknown thingy i.e. { / [ / | or something\n            console.log(\"unknown left thingy \" + c);\n            list.push(new MathSymbol(command));\n            break;\n          }\n          break;\n        case \"right\":\n          return; // returning to parseToChar without consuming \")\" or whatever\n          break;\n        case \"sum\":\n          this.parseSum(list);\n          break;\n        case \"binom\":\n          this.parseBinomial(list);\n          if (!signed && lastChar !== \"=\" && list.length > 1) {\n            this.createMultiplicationFromList(list);\n          }\n          break;\n        case \"mathsf\":\n          var complement = [];\n          this.parseCurlyBracketed(complement);\n          var content = complement[0].content;\n          if (content.length === 1 && content[0].isTerm() && content[0].variable === \"c\") {\n            list.push(new MathSymbol(\"mathsf{c}\"));\n          }\n          break;\n        case \"text\":\n          // just parses and ignores\n          this.skipToChar(\"}\");\n          break;\n        default:\n          var symbol = new MathSymbol(command);\n          list.push(symbol);\n          break;\n      }\n    }\n  }, {\n    key: \"parseMultiplication\",\n    value: function parseMultiplication(list) {\n      Logcal.append(\"parseMultiplication(list): \" + list);\n\n      var firstfactor = list.splice(list.length - 1, 1)[0];\n      var secondfactor = void 0;\n      var currentChar = this.parseIfWhitespace();\n      var negative = this.parseSign();\n\n      if (this.Evaluator.isTerm(currentChar)) {\n        secondfactor = this.parseTerm();\n      } else if (currentChar === \"\\\\\") {\n        var content = [];\n        this.parseCommand(content);\n        secondfactor = content[0];\n      } else if (currentChar === \"(\") {\n        var _content = [];\n        this.parseRoundBracketed(_content);\n        secondfactor = _content[0];\n        // makes multiplications shorter but kinda want the brackets to\n        // reduce in order user inputted their stuff\n        // secondfactor = content[0].reduceAndReturnIfPossible();\n        // } else if (c === \"-\") {\n      } else {\n          console.log(\"currently \" + this.currentlyParsed());\n          throw \"error in parseMultiplication. unknown secondfactor: \" + currentChar;\n        }\n      if (negative) {\n        secondfactor.switchSign();\n      }\n      var operation = new _MathOperation2.default(firstfactor, \"*\", secondfactor);\n      list.push(operation);\n    }\n  }, {\n    key: \"parseFraction\",\n    value: function parseFraction(list) {\n      Logcal.append(\"parseFraction(list): \" + list);\n\n      var firstlist = [],\n          secondlist = [];\n\n      this.parseCurlyBracketed(firstlist);\n      this.parseCurlyBracketed(secondlist);\n\n      var firstfactor = firstlist[0].returnContentIfPossible();\n      var secondfactor = secondlist[0].returnContentIfPossible();\n      var operation = new _MathOperation2.default(firstfactor, \"/\", secondfactor);\n      list.push(operation);\n    }\n  }, {\n    key: \"parseCurlyBracketed\",\n    value: function parseCurlyBracketed(list) {\n      Logcal.append(\"parseCurlyBracketed(list): \" + list);\n      this.parseIfChar(\"{\");\n      var content = this.parseToChar(\"}\");\n      var bracketed = new _MathBracketed2.default(content);\n      list.push(bracketed);\n    }\n  }, {\n    key: \"parseRoundBracketed\",\n    value: function parseRoundBracketed(list) {\n      Logcal.append(\"parseRoundBracketed(list): \" + list);\n      this.parseIfChar(\"(\"); // consuming the \"(\"\n      var bracketed = new _MathBracketed2.default(this.parseToChar(\")\"));\n      bracketed.setExponent(this.parseIfExponent());\n      if (this.getChar() === \"'\") {\n        Logcal.append(\"Transforming Probability into complement\");\n        this.parseChar();\n        bracketed.setExponent(new MathSymbol(\"mathsf{c}\"));\n      }\n      // check if ! is found after ) => factorial\n      if (this.parseIfChar(\"!\")) {\n        bracketed = new _MathFactorial2.default(bracketed);\n      }\n      list.push(bracketed);\n    }\n  }, {\n    key: \"parseProbability\",\n    value: function parseProbability() {\n      Logcal.append(\"parseToProbability():\");\n      var probability = void 0,\n          varlist = [];\n\n      this.parseIfChar(\"P\"); // consuming the \"P\"\n      this.parseCommand(varlist, false); // parsing content between brackets P( <-> )\n      // this.parseBracketed(varlist);\n      var bracketed = varlist[0];\n      probability = new _MathProbability2.default(bracketed.content);\n      probability.setExponent(bracketed.exponent);\n      return probability;\n    }\n  }, {\n    key: \"addAlphaCharToVariables\",\n    value: function addAlphaCharToVariables(alphaChar) {\n      this.variables[alphaChar] ? this.variables[alphaChar]++ : this.variables[alphaChar] = 1;\n    }\n  }, {\n    key: \"parseChar\",\n    value: function parseChar() {\n      this.index++;\n      return this.index < this.input.length ? this.input.charAt(this.index) : \"\\\\\\\\\";\n    }\n  }, {\n    key: \"parseIfChar\",\n    value: function parseIfChar(requiredChar) {\n      return this.input.charAt(this.index) === requiredChar ? this.parseChar() : \"\";\n    }\n  }, {\n    key: \"parseSign\",\n    value: function parseSign() {\n      var negative = false;\n      while (this.Evaluator.isSign(this.getChar())) {\n        negative = this.getChar() === \"-\" ? !negative : negative;\n        this.parseChar();\n      }\n      Logcal.append(\"parseSign(): RETURN negative \" + negative);\n      return negative;\n    }\n  }, {\n    key: \"parseIfWhitespace\",\n    value: function parseIfWhitespace() {\n      while (this.Evaluator.isWhitespace(this.input.charAt(this.index)) && this.index < this.input.length) {\n        this.index++;\n      }\n      return this.input.charAt(this.index);\n    }\n  }, {\n    key: \"getLastChar\",\n    value: function getLastChar(index) {\n      while (this.Evaluator.isWhitespace(this.input.charAt(index)) && index < 0) {\n        index--;\n      }\n      return this.input.charAt(index);\n    }\n  }, {\n    key: \"getChar\",\n    value: function getChar() {\n      return this.index < this.input.length ? this.input.charAt(this.index) : \"\\\\\\\\\";\n    }\n  }, {\n    key: \"isNext\",\n    value: function isNext(latex) {\n      return this.input.length > this.index + latex.length + 1 && this.input.substring(this.index + 1, this.index + 1 + latex.length) === latex;\n    }\n  }]);\n\n  return LatexParser;\n}();\n\nexports.default = LatexParser;\n\n},{\"../math-components/basic/MathBracketed\":3,\"../math-components/basic/MathEquation\":4,\"../math-components/basic/MathOperation\":5,\"../math-components/basic/MathTerm\":6,\"../math-components/probability/MathBinomial\":7,\"../math-components/probability/MathFactorial\":8,\"../math-components/probability/MathProbability\":9,\"../utility_services/Logger\":14,\"../utility_services/Logmon\":15,\"./Evaluator\":10}],12:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Formulator = exports.Formulator = function () {\n  function Formulator() {\n    _classCallCheck(this, Formulator);\n\n    this.formulas = [];\n  }\n\n  _createClass(Formulator, [{\n    key: \"getFormulaByName\",\n    value: function getFormulaByName(name) {}\n  }]);\n\n  return Formulator;\n}();\n\nexports.default = new Formulator();\n\n},{}],13:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*\r\n * Id generator for creating unique ids\r\n */\n\nvar IdGenerator = exports.IdGenerator = function () {\n  function IdGenerator() {\n    _classCallCheck(this, IdGenerator);\n\n    this.nextid = 0;\n  }\n\n  _createClass(IdGenerator, [{\n    key: \"nextId\",\n    value: function nextId() {\n      return this.nextid++;\n    }\n  }]);\n\n  return IdGenerator;\n}();\n\nexports.default = new IdGenerator();\n\n},{}],14:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Logger = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Formulator = require(\"./Formulator\");\n\nvar _Formulator2 = _interopRequireDefault(_Formulator);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Logger = exports.Logger = function () {\n  function Logger() {\n    _classCallCheck(this, Logger);\n\n    this.log = [];\n    this.message = \"\";\n    this.equation = null;\n  }\n\n  _createClass(Logger, [{\n    key: \"setEquation\",\n    value: function setEquation(equation) {\n      this.log = [];\n      this.message = \"\";\n      this.equation = equation;\n    }\n  }, {\n    key: \"resetLogs\",\n    value: function resetLogs() {\n      this.log = [];\n      this.message = \"\";\n    }\n  }, {\n    key: \"setMessage\",\n    value: function setMessage(msg) {\n      this.message = msg;\n    }\n    // pushStepWithLatex\n\n  }, {\n    key: \"createLatex\",\n    value: function createLatex(name, latex) {\n      this.log.push({\n        latex: latex,\n        stepName: name,\n        formula: \"\"\n      });\n    }\n    // pushStep\n\n  }, {\n    key: \"newLatex\",\n    value: function newLatex(name) {\n      this.log.push({\n        latex: this.equation.toLatex(),\n        stepName: name,\n        formula: \"\"\n      });\n    }\n    // pushStepWithFormula\n\n  }, {\n    key: \"newLatexWithFormula\",\n    value: function newLatexWithFormula(name, formulaName, variation) {\n      var formula = _Formulator2.default.getFormulaByName(formulaName);\n      if ((typeof formula === \"undefined\" ? \"undefined\" : _typeof(formula)) === \"object\") {\n        name += \"\\nUsing formula $\" + formula.variations[variation].latex + \"$\";\n      }\n      this.log.push({\n        latex: this.equation.toLatex(),\n        stepName: name,\n        formula: formula\n      });\n    }\n  }]);\n\n  return Logger;\n}();\n\nexports.default = new Logger();\n\n},{\"./Formulator\":12}],15:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Logmon = exports.Logmon = function () {\n  function Logmon(windowRef) {\n    _classCallCheck(this, Logmon);\n\n    this.loggers = [];\n    this.window = windowRef;\n  }\n\n  _createClass(Logmon, [{\n    key: \"createLogger\",\n    value: function createLogger(name) {\n      this.loggers.push(new Logger(name));\n      this.window[name] = this.loggers[this.loggers.length - 1];\n      return this.loggers[this.loggers.length - 1];\n    }\n  }, {\n    key: \"createLoggerWithOptions\",\n    value: function createLoggerWithOptions(name, testing, consoling) {\n      var logger = new Logger(name);\n      logger.testing = testing;\n      logger.consoling = consoling;\n      this.loggers.push(logger);\n      this.window[name] = this.loggers[this.loggers.length - 1];\n      return this.loggers[this.loggers.length - 1];\n    }\n  }, {\n    key: \"getLogger\",\n    value: function getLogger(name) {\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this.loggers[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var logger = _step.value;\n\n          if (logger.name === name) {\n            return logger;\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return null;\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      this.loggers.map(function (logger) {\n        console.log(\"\", logger);\n      });\n    }\n  }, {\n    key: \"disableLoggers\",\n    value: function disableLoggers() {\n      this.loggers.map(function (logger) {\n        logger.testing = false;\n      });\n    }\n  }, {\n    key: \"enableLoggers\",\n    value: function enableLoggers() {\n      this.loggers.map(function (logger) {\n        logger.testing = true;\n      });\n    }\n  }]);\n\n  return Logmon;\n}();\n\nvar Logger = exports.Logger = function () {\n  function Logger(name) {\n    _classCallCheck(this, Logger);\n\n    this.name = name;\n    this.size = 5000;\n\n    this.log = [];\n    this.currentIndent = \"\";\n    this.indent = \"--- \";\n\n    this.timer = {};\n\n    this.testRunning = \"\";\n    this.testLevel = 0;\n    this.testing = true;\n    this.consoling = true;\n  }\n\n  _createClass(Logger, [{\n    key: \"setTestLevel\",\n    value: function setTestLevel(level) {\n      this.testLevel = level;\n    }\n  }, {\n    key: \"testRun\",\n    value: function testRun(what) {\n      this.testRunning = what;\n    }\n  }, {\n    key: \"resetLogs\",\n    value: function resetLogs() {\n      this.log = [];\n      this.currentIndent = \"\";\n    }\n  }, {\n    key: \"timerStart\",\n    value: function timerStart(where) {\n      if (this.testing) {\n        this.timer[where] = performance.now();\n      }\n    }\n  }, {\n    key: \"timerEnd\",\n    value: function timerEnd(where) {\n      if (this.testing) {\n        var timed = performance.now() - this.timer[where];\n        if (this.consoling) {\n          console.log(this.currentIndent + where + \" done in time \" + timed + \"ms\");\n        }\n      }\n    }\n  }, {\n    key: \"append\",\n    value: function append(string) {\n      if (this.testing) {\n        var logged = this.currentIndent + string;\n        if (this.consoling) {\n          console.log(logged);\n        }\n        if (this.log.length === this.size) {\n          this.log.splice(0, 1);\n        }\n        this.log.push(logged);\n      }\n    }\n  }, {\n    key: \"start\",\n    value: function start(string) {\n      if (this.testing || this.testRunning.length !== 0) {\n        var asString = \"\";\n        for (var i = 0; i < arguments.length; i++) {\n          asString += arguments[i].toString();\n        }\n        if (!this.testing && this.testRunning.length !== 0) {\n          if (string.indexOf(this.testRunning) !== -1) {\n            this.testing = true;\n          } else {\n            return;\n          }\n        }\n        var logged = this.currentIndent + string;\n        if (this.consoling) {\n          console.log(logged);\n          // console.log(\"arguments size \" + arguments.length);\n          // console.log(arguments);\n        }\n        if (this.log.length === this.size) {\n          this.log.splice(0, 1);\n        }\n        this.log.push(logged);\n        this.currentIndent += this.indent;\n      }\n    }\n  }, {\n    key: \"end\",\n    value: function end(string) {\n      if (this.testing) {\n        if (this.testRunning.length !== 0) {\n          if (string.indexOf(this.testRunning) !== -1) {\n            this.testing = false;\n            this.testRunning = \"\";\n          }\n        }\n        this.currentIndent = this.currentIndent.substring(0, this.currentIndent.length - this.indent.length);\n        var logged = this.currentIndent + string;\n        if (this.consoling) {\n          console.log(logged);\n        }\n        if (this.log.length === this.size) {\n          this.log.splice(0, 1);\n        }\n        this.log.push(logged);\n      }\n    }\n  }, {\n    key: \"trace\",\n    value: function trace() {\n      console.log(this.log.join(\"\\n\"));\n      console.log(\"--- TRACELOG(\" + this.name + \") size: \" + this.log.length + \" ---\");\n    }\n  }]);\n\n  return Logger;\n}();\n\nvar mockWindow = {};\nvar logmon = new Logmon(mockWindow);\nlogmon.createLoggerWithOptions(\"Logdef\", false, true);\nlogmon.createLoggerWithOptions(\"Logcal\", true, true);\nexports.default = logmon;\n\n},{}]},{},[1])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmNcXG1haW4uanMiLCJzcmNcXG1hdGgtY29tcG9uZW50c1xcTWF0aE9iamVjdC5qcyIsInNyY1xcbWF0aC1jb21wb25lbnRzXFxiYXNpY1xcTWF0aEJyYWNrZXRlZC5qcyIsInNyY1xcbWF0aC1jb21wb25lbnRzXFxiYXNpY1xcTWF0aEVxdWF0aW9uLmpzIiwic3JjXFxtYXRoLWNvbXBvbmVudHNcXGJhc2ljXFxNYXRoT3BlcmF0aW9uLmpzIiwic3JjXFxtYXRoLWNvbXBvbmVudHNcXGJhc2ljXFxNYXRoVGVybS5qcyIsInNyY1xcbWF0aC1jb21wb25lbnRzXFxwcm9iYWJpbGl0eVxcTWF0aEJpbm9taWFsLmpzIiwic3JjXFxtYXRoLWNvbXBvbmVudHNcXHByb2JhYmlsaXR5XFxNYXRoRmFjdG9yaWFsLmpzIiwic3JjXFxtYXRoLWNvbXBvbmVudHNcXHByb2JhYmlsaXR5XFxNYXRoUHJvYmFiaWxpdHkuanMiLCJzcmNcXHBhcnNpbmdcXEV2YWx1YXRvci5qcyIsInNyY1xccGFyc2luZ1xcTGF0ZXhQYXJzZXIuanMiLCJzcmNcXHV0aWxpdHlfc2VydmljZXNcXEZvcm11bGF0b3IuanMiLCJzcmNcXHV0aWxpdHlfc2VydmljZXNcXElkR2VuZXJhdG9yLmpzIiwic3JjXFx1dGlsaXR5X3NlcnZpY2VzXFxMb2dnZXIuanMiLCJzcmNcXHV0aWxpdHlfc2VydmljZXNcXExvZ21vbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDSUE7Ozs7QUFVQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBeUJBLElBQU0sTUFBTTtBQUNWLFVBQVEsMkJBQVI7Q0FESTs7Ozs7Ozs7OztBQUlOLElBQU0sY0FBYyxTQUFkLFdBQWMsQ0FBQyxjQUFELEVBQW9CO0FBQ3RDLE1BQUksY0FBSixFQUFvQjtBQUNsQixZQUFRLEdBQVIsQ0FBWSxZQUFaLEVBRGtCO0FBRWxCLFdB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QTlCLEdBQTJDLEtBQUssR0FBTCxDQUFTLE1BQVQsR0FBa0IsTUFBN0QsQ0FBWixDQUZNOzs7O1NBaEdHOzs7QUFzR2IsSUFBSSxhQUFhLEVBQWI7QUFDSixJQUFJLFNBQVMsSUFBSSxNQUFKLENBQVcsVUFBWCxDQUFUO0FBQ0osT0FBTyx1QkFBUCxDQUErQixRQUEvQixFQUF5QyxLQUF6QyxFQUFnRCxJQUFoRDtBQUNBLE9BQU8sdUJBQVAsQ0FBK0IsUUFBL0IsRUFBeUMsSUFBekMsRUFBK0MsSUFBL0M7a0JBQ2UiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiLy8gaW1wb3J0IE1hdGhPYmplY3QgZnJvbSBcIi4vbWF0aC1jb21wb25lbnRzL01hdGhPYmplY3RcIjtcclxuLy8gaW1wb3J0IE1hdGhUZXJtIGZyb20gXCIuL21hdGgtY29tcG9uZW50cy9iYXNpYy9NYXRoVGVybVwiO1xyXG4vLyBpbXBvcnQgTWF0aE9wZXJhdGlvbiBmcm9tIFwiLi9tYXRoLWNvbXBvbmVudHMvYmFzaWMvTWF0aE9wZXJhdGlvblwiO1xyXG5cclxuaW1wb3J0IExhdGV4UGFyc2VyIGZyb20gXCIuL3BhcnNpbmcvTGF0ZXhQYXJzZXJcIjtcclxuXHJcbi8vIGltcG9ydCBJREcgZnJvbSBcIi4vdXRpbGl0eV9zZXJ2aWNlcy9JZEdlbmVyYXRvclwiO1xyXG4vLyBpbXBvcnQgT3JkZXJlciBmcm9tIFwiLi91dGlsaXR5X3NlcnZpY2VzL09yZGVyZXJcIjtcclxuXHJcbi8qXHJcbiAqIEluc3RhbmNlIG9mIExvZ21vbiB1c2VkIGZvciBsb2dnaW5nXHJcbiAqIEFuZCBsb2dnaW5nIGlzIG5lZWRlZCwgdHJ1c3QgbWVcclxuICovXHJcblxyXG5pbXBvcnQgTG9nbW9uIGZyb20gXCIuL3V0aWxpdHlfc2VydmljZXMvTG9nbW9uXCI7XHJcblxyXG4vLyBMb2dtb24uY3JlYXRlTG9nZ2VyV2l0aE9wdGlvbnMoXCJMb2djYWxcIiwgdHJ1ZSwgdHJ1ZSk7XHJcblxyXG4vLyBsZXQgZXFjID0ge1xyXG4vLyAgIENhbGN1bGF0b3I6IHtcclxuXHJcbi8vICAgfSxcclxuLy8gICBNYXRoQ29tcG9uZW50czoge1xyXG4vLyAgICAgQmFzaWM6IHtcclxuLy8gICAgICAgTWF0aFRlcm0sXHJcbi8vICAgICAgIE1hdGhPcGVyYXRpb24sXHJcbi8vICAgICB9LFxyXG4vLyAgICAgTWF0aE9iamVjdCxcclxuLy8gICB9LFxyXG4vLyAgIFBhcnNpbmc6IHtcclxuLy8gICAgIExhdGV4UGFyc2VyLFxyXG4vLyAgIH0sXHJcbi8vICAgVXRpbGl0eVNlcnZpY2VzOiB7XHJcbi8vICAgICBJREcsXHJcbi8vICAgICBPcmRlcmVyLFxyXG4vLyAgICAgUGVuaXM6IFwiYWZoaFwiLFxyXG4vLyAgIH1cclxuLy8gfTtcclxuXHJcbmNvbnN0IGVxYyA9IHtcclxuICBQYXJzZXI6IG5ldyBMYXRleFBhcnNlcigpLFxyXG59XHJcblxyXG5jb25zdCBhZGRUb1dpbmRvdyA9ICh3aW5kb3dJbnN0YW5jZSkgPT4ge1xyXG4gIGlmICh3aW5kb3dJbnN0YW5jZSkge1xyXG4gICAgY29uc29sZS5sb2coXCJ3ZWUgd2luZG93XCIpO1xyXG4gICAgd2luZG93LmVxYyA9IGVxYztcclxuICB9XHJcbn07XHJcblxyXG5hZGRUb1dpbmRvdyh3aW5kb3cpO1xyXG5tb2R1bGUuZXhwb3J0cyA9IGVxYztcclxuIiwiaW1wb3J0IElERyBmcm9tIFwiLi4vdXRpbGl0eV9zZXJ2aWNlcy9JZEdlbmVyYXRvclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWF0aE9iamVjdCB7XHJcbiAgY29uc3RydWN0b3IodHlwZSkge1xyXG4gICAgdGhpcy50eXBlID0gdHlwZTtcclxuICAgIHRoaXMuaWQgPSBJREcubmV4dElkKCk7XHJcbiAgICB0aGlzLm9yZGVyID0gLTE7XHJcbiAgICB0aGlzLm1pbnVzc2lnbiA9IGZhbHNlO1xyXG4gICAgdGhpcy5yZWR1Y2VkID0gZmFsc2U7XHJcbiAgICB0aGlzLmV4cG9uZW50ID0gXCJcIjtcclxuICAgIHRoaXMucGFyZW50ID0gbnVsbDtcclxuICB9XHJcbiAgc2V0VHlwZShuYW1lKSB7XHJcbiAgICB0aGlzLnR5cGUgPSBuYW1lO1xyXG4gIH1cclxuICBpc1R5cGUobmFtZSkge1xyXG4gICAgcmV0dXJuIHRoaXMudHlwZSA9PT0gbmFtZTtcclxuICB9XHJcbiAgc2V0RXhwb25lbnQoZXhwb25lbnQpIHtcclxuICAgIHRoaXMuZXhwb25lbnQgPSBleHBvbmVudDtcclxuICAgIC8vIHRocm93IG5ldyBUeXBlRXJyb3IoYCR7dGhpcy50eXBlfSBtdXN0IG92ZXJyaWRlIG1ldGhvZCBzZXRFeHBvbmVudGApO1xyXG4gIH1cclxuICBjb250YWluc0V4cG9uZW50KCkge1xyXG4gICAgcmV0dXJuICh0aGlzLmV4cG9uZW50ICYmIHRoaXMuZXhwb25lbnQubGVuZ3RoICE9PSAwKTtcclxuICB9XHJcbiAgLypcclxuICAgKiBCZWxvdyBhbGwgdGhlIG1ldGhvZHMgdG8gYmUgb3ZlcnJpZGRlblxyXG4gICAqL1xyXG4gIHNldE9yZGVyKGRlcHRoKSB7XHJcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGAke3RoaXMudHlwZX0gbXVzdCBvdmVycmlkZSBtZXRob2Qgc2V0T3JkZXJgKTtcclxuICB9XHJcbiAgcmV0dXJuQ29udGVudExpc3QoKSB7XHJcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGAke3RoaXMudHlwZX0gbXVzdCBvdmVycmlkZSBtZXRob2QgcmV0dXJuQ29udGVudExpc3RgKTtcclxuICB9XHJcbiAgc3dpdGNoU2lnbigpIHtcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYCR7dGhpcy50eXBlfSBtdXN0IG92ZXJyaWRlIG1ldGhvZCBzd2l0Y2hTaWduYCk7XHJcbiAgfVxyXG4gIGlzRXF1YWwoKSB7XHJcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGAke3RoaXMudHlwZX0gbXVzdCBvdmVycmlkZSBtZXRob2QgaXNFcXVhbGApO1xyXG4gIH1cclxuICBpc1Rlcm0oKSB7XHJcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGAke3RoaXMudHlwZX0gbXVzdCBvdmVycmlkZSBtZXRob2QgaXNUZXJtYCk7XHJcbiAgfVxyXG4gIGlzT3BlcmF0aW9uKCkge1xyXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgJHt0aGlzLnR5cGV9IG11c3Qgb3ZlcnJpZGUgbWV0aG9kIGlzT3BlcmF0aW9uYCk7XHJcbiAgfVxyXG4gIGlzQnJhY2tldGVkKCkge1xyXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgJHt0aGlzLnR5cGV9IG11c3Qgb3ZlcnJpZGUgbWV0aG9kIGlzQnJhY2tldGVkYCk7XHJcbiAgfVxyXG4gIGlzU3BlY2lhbCgpIHtcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYCR7dGhpcy50eXBlfSBtdXN0IG92ZXJyaWRlIG1ldGhvZCBpc1NwZWNpYWxgKTtcclxuICB9XHJcbiAgaXNFbXB0eSgpIHtcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYCR7dGhpcy50eXBlfSBtdXN0IG92ZXJyaWRlIG1ldGhvZCBpc0VtcHR5YCk7XHJcbiAgfVxyXG4gIGluY2x1ZGVzVmFyaWFibGUodmFyaWFibGUpIHtcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYCR7dGhpcy50eXBlfSBtdXN0IG92ZXJyaWRlIG1ldGhvZCBpbmNsdWRlc1ZhcmlhYmxlYCk7XHJcbiAgfVxyXG4gIHRvTGF0ZXgoKSB7XHJcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGAke3RoaXMudHlwZX0gbXVzdCBvdmVycmlkZSBtZXRob2QgdG9MYXRleGApO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgTWF0aE9iamVjdCBmcm9tIFwiLi4vTWF0aE9iamVjdFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWF0aEJyYWNrZXRlZCBleHRlbmRzIE1hdGhPYmplY3Qge1xyXG5cclxuICBjb25zdHJ1Y3Rvcihjb250ZW50TGlzdCkge1xyXG4gICAgc3VwZXIoXCJCcmFja2V0ZWRcIik7XHJcblxyXG4gICAgdGhpcy5jb250ZW50ID0gY29udGVudExpc3Q7XHJcbiAgfVxyXG5cclxuICBjaGVja0lmQnJhY2tldHNOZWVkZWQoKSB7XHJcbiAgICByZXR1cm4gKHRoaXMuZXhwb25lbnQgfHwgdGhpcy5taW51c3NpZ24gfHwgdGhpcy5jb250ZW50Lmxlbmd0aCAhPT0gMSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm5Db250ZW50SWZQb3NzaWJsZSgpIHtcclxuICAgIGlmICghdGhpcy5jaGVja0lmQnJhY2tldHNOZWVkZWQoKSkge1xyXG4gICAgICByZXR1cm4gdGhpcy5jb250ZW50WzBdO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfTtcclxuXHJcbiAgdG9MYXRleCgpIHtcclxuICAgIGxldCBsYXRleCA9IHRoaXMubWludXNzaWduID8gXCItXFxcXGxlZnQoXCIgOiBcIlxcXFxsZWZ0KFwiO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNvbnRlbnQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgaWYgKHRoaXMuY29udGVudFtpXS5taW51c3NpZ24pIHtcclxuICAgICAgICBsYXRleCArPSB0aGlzLmNvbnRlbnRbaV0udG9MYXRleCgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmIChpICE9PSAwKSB7XHJcbiAgICAgICAgICBsYXRleCArPSBcIitcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGF0ZXggKz0gdGhpcy5jb250ZW50W2ldLnRvTGF0ZXgoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgbGF0ZXggKz0gXCJcXFxccmlnaHQpXCI7XHJcbiAgICBpZiAodGhpcy5leHBvbmVudCkge1xyXG4gICAgICBsYXRleCArPSBcIl57XCI7XHJcbiAgICAgIGlmICh0aGlzLmV4cG9uZW50LmlzQnJhY2tldGVkKCkpIHtcclxuICAgICAgICBsYXRleCArPSB0aGlzLmV4cG9uZW50LnRvTGF0ZXhXaXRob3V0QnJhY2tldHMoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBsYXRleCArPSB0aGlzLmV4cG9uZW50LnRvTGF0ZXgoKTtcclxuICAgICAgfVxyXG4gICAgICBsYXRleCArPSBcIn1cIjtcclxuICAgIH1cclxuICAgIHJldHVybiBsYXRleDtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IE1hdGhPYmplY3QgZnJvbSBcIi4uL01hdGhPYmplY3RcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hdGhFcXVhdGlvbiBleHRlbmRzIE1hdGhPYmplY3Qge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgc3VwZXIoXCJFcXVhdGlvblwiKTtcclxuICAgIHRoaXMubGVmdHNpZGUgPSBbXTtcclxuICAgIHRoaXMucmlnaHRzaWRlID0gW107XHJcbiAgfVxyXG4gIHRvTGF0ZXgoKSB7XHJcbiAgICBsZXQgbGF0ZXggPSBcIlwiO1xyXG4gICAgY29uc3QgbGF0ZXhTaWRlID0gKHNpZGUpID0+IHtcclxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaWRlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKHNpZGVbaV0ubWludXNzaWduKSB7XHJcbiAgICAgICAgICBsYXRleCArPSBzaWRlW2ldLnRvTGF0ZXgoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaWYgKGkgIT09IDApIHtcclxuICAgICAgICAgICAgbGF0ZXggKz0gXCIrXCI7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBsYXRleCArPSBzaWRlW2ldLnRvTGF0ZXgoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICBsYXRleFNpZGUodGhpcy5sZWZ0c2lkZSk7XHJcbiAgICBsYXRleCArPSBcIj1cIjtcclxuICAgIGxhdGV4U2lkZSh0aGlzLnJpZ2h0c2lkZSk7XHJcbiAgICByZXR1cm4gbGF0ZXg7XHJcbiAgfVxyXG4gIHRvU3RyaW5nKCkge1xyXG4gICAgbGV0IHN0cmluZyA9IFwiXCI7XHJcbiAgICBjb25zdCBzdHJpbmdTaWRlID0gKHNpZGUpID0+IHtcclxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaWRlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKCFzaWRlW2ldLm1pbnVzc2lnbiAmJiBpICE9PSAwKSB7XHJcbiAgICAgICAgICBzdHJpbmcgKz0gXCIrXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN0cmluZyArPSBzaWRlW2ldLnRvU3RyaW5nKCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICBzdHJpbmdTaWRlKHRoaXMubGVmdHNpZGUpO1xyXG4gICAgc3RyaW5nICs9IFwiID0gXCI7XHJcbiAgICBzdHJpbmdTaWRlKHRoaXMucmlnaHRzaWRlKTtcclxuICAgIHJldHVybiBzdHJpbmc7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBNYXRoT2JqZWN0IGZyb20gXCIuLi9NYXRoT2JqZWN0XCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYXRoT3BlcmF0aW9uIGV4dGVuZHMgTWF0aE9iamVjdCB7XHJcbiAgY29uc3RydWN0b3IoZmFjdG9yb25lLCB0eXBlLCBmYWN0b3J0d28pIHtcclxuICAgIHN1cGVyKFwiT3BlcmF0aW9uXCIpO1xyXG5cclxuICAgIHRoaXMuZmlyc3RmYWN0b3IgPSBmYWN0b3JvbmU7XHJcbiAgICB0aGlzLm9wZXJhdGlvbiA9IHR5cGUgPT09IFwiKFwiID8gXCIqXCIgOiB0eXBlO1xyXG4gICAgdGhpcy5zZWNvbmRmYWN0b3IgPSBmYWN0b3J0d287XHJcblxyXG4gICAgdGhpcy5pc2ZyYWN0aW9uID0gdGhpcy5vcGVyYXRpb24gPT09IFwiL1wiO1xyXG4gIH1cclxuXHJcbiAgdG9MYXRleCgpIHtcclxuICAgIGxldCBsYXRleCA9IHRoaXMubWludXNzaWduID8gXCItXCIgOiBcIlwiO1xyXG4gICAgaWYgKHRoaXMub3BlcmF0aW9uID09PSBcIipcIikge1xyXG4gICAgICBsYXRleCArPSB0aGlzLmZpcnN0ZmFjdG9yLnRvTGF0ZXgoKSArIFwiXFxcXGNkb3QgXCIgKyB0aGlzLnNlY29uZGZhY3Rvci50b0xhdGV4KCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBzdWx1dCBu77+9eXR077+977+9IHJ1bWlsdGEgam9zIGpha29sYXNrdS4gam9zIG1pbnVzIHN1bHV0IHPvv71pbHl5XHJcbiAgICAgIGNvbnN0IGZpcnN0ID0gdGhpcy5maXJzdGZhY3Rvci5pc1R5cGUoXCJCcmFja2V0ZWRcIikgPyB0aGlzLmZpcnN0ZmFjdG9yLnRvTGF0ZXhXaXRob3V0QnJhY2tldHMoKSA6IHRoaXMuZmlyc3RmYWN0b3IudG9MYXRleCgpO1xyXG4gICAgICBjb25zdCBzZWNvbmQgPSB0aGlzLnNlY29uZGZhY3Rvci5pc1R5cGUoXCJCcmFja2V0ZWRcIikgPyB0aGlzLnNlY29uZGZhY3Rvci50b0xhdGV4V2l0aG91dEJyYWNrZXRzKCkgOiB0aGlzLnNlY29uZGZhY3Rvci50b0xhdGV4KCk7XHJcbiAgICAgIGxhdGV4ICs9IFwiXFxcXGZyYWN7XCIgKyBmaXJzdCArIFwifXtcIiArIHNlY29uZCArIFwifVwiO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuZXhwb25lbnQpIHtcclxuICAgICAgbGF0ZXggKz0gXCJee1wiO1xyXG4gICAgICBpZiAodGhpcy5leHBvbmVudC5pc0JyYWNrZXRlZCgpKSB7XHJcbiAgICAgICAgbGF0ZXggKz0gdGhpcy5leHBvbmVudC50b0xhdGV4V2l0aG91dEJyYWNrZXRzKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbGF0ZXggKz0gdGhpcy5leHBvbmVudC50b0xhdGV4KCk7XHJcbiAgICAgIH1cclxuICAgICAgbGF0ZXggKz0gXCJ9XCI7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbGF0ZXg7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBNYXRoT2JqZWN0IGZyb20gXCIuLi9NYXRoT2JqZWN0XCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYXRoVGVybSBleHRlbmRzIE1hdGhPYmplY3Qge1xyXG4gIGNvbnN0cnVjdG9yKHZhcmlhYmxlLCB2YWx1ZSwgZXhwb25lbnQpIHtcclxuICAgIHN1cGVyKFwiVGVybVwiKTtcclxuXHJcbiAgICB0aGlzLnZhcmlhYmxlID0gdmFyaWFibGU7XHJcbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XHJcbiAgICAvLyB0aGlzLnZhbHVlID0gbmV3IEJpZyh2YWx1ZSk7XHJcbiAgICB0aGlzLmV4cG9uZW50ID0gZXhwb25lbnQ7XHJcbiAgfVxyXG5cclxuICBnZXRWYWx1ZSgpIHtcclxuICAgIHJldHVybiB0aGlzLnZhbHVlO1xyXG4gICAgLy8gcmV0dXJuIHBhcnNlRmxvYXQodGhpcy52YWx1ZS50b1N0cmluZygpKTtcclxuICB9XHJcblxyXG4gIHRvTGF0ZXgoKSB7XHJcbiAgICBsZXQgbGF0ZXggPSBcIlwiO1xyXG4gICAgY29uc3QgdmFsID0gdGhpcy5nZXRWYWx1ZSgpO1xyXG4gICAgaWYgKCF0aGlzLnZhcmlhYmxlKSB7XHJcbiAgICAgIGxhdGV4ICs9IHZhbDtcclxuICAgIH0gZWxzZSBpZiAodmFsID09PSAxICYmIHRoaXMudmFyaWFibGUpIHtcclxuICAgICAgbGF0ZXggKz0gdGhpcy52YXJpYWJsZTtcclxuICAgIH0gZWxzZSBpZiAodmFsID09PSAtMSAmJiB0aGlzLnZhcmlhYmxlKSB7XHJcbiAgICAgIGxhdGV4ICs9IFwiLVwiICsgdGhpcy52YXJpYWJsZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGxhdGV4ICs9IHZhbCArIHRoaXMudmFyaWFibGU7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5jb250YWluc0V4cG9uZW50KCkpIHtcclxuICAgICAgbGF0ZXggKz0gXCJee1wiO1xyXG4gICAgICBpZiAodGhpcy5leHBvbmVudC5pc0JyYWNrZXRlZCgpKSB7XHJcbiAgICAgICAgbGF0ZXggKz0gdGhpcy5leHBvbmVudC50b0xhdGV4V2l0aG91dEJyYWNrZXRzKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbGF0ZXggKz0gdGhpcy5leHBvbmVudC50b0xhdGV4KCk7XHJcbiAgICAgIH1cclxuICAgICAgbGF0ZXggKz0gXCJ9XCI7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbGF0ZXg7XHJcbiAgfVxyXG5cclxuICB0b1N0cmluZygpIHtcclxuICAgIGxldCBsYXRleCA9IFwiXCI7XHJcbiAgICBjb25zdCB2YWwgPSB0aGlzLmdldFZhbHVlKCk7XHJcbiAgICBpZiAoIXRoaXMudmFyaWFibGUpIHtcclxuICAgICAgbGF0ZXggKz0gdmFsO1xyXG4gICAgfSBlbHNlIGlmICh2YWwgPT09IDEgJiYgdGhpcy52YXJpYWJsZSkge1xyXG4gICAgICBsYXRleCArPSB0aGlzLnZhcmlhYmxlO1xyXG4gICAgfSBlbHNlIGlmICh2YWwgPT09IC0xICYmIHRoaXMudmFyaWFibGUpIHtcclxuICAgICAgbGF0ZXggKz0gXCItXCIgKyB0aGlzLnZhcmlhYmxlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbGF0ZXggKz0gdmFsICsgdGhpcy52YXJpYWJsZTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLmNvbnRhaW5zRXhwb25lbnQoKSkge1xyXG4gICAgICBsYXRleCArPSBcIl57XCI7XHJcbiAgICAgIGlmICh0aGlzLmV4cG9uZW50LmlzQnJhY2tldGVkKCkpIHtcclxuICAgICAgICBsYXRleCArPSB0aGlzLmV4cG9uZW50LnRvU3RyaW5nKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbGF0ZXggKz0gdGhpcy5leHBvbmVudC50b1N0cmluZygpO1xyXG4gICAgICB9XHJcbiAgICAgIGxhdGV4ICs9IFwifVwiO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGxhdGV4O1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgTWF0aE9iamVjdCBmcm9tIFwiLi4vTWF0aE9iamVjdFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWF0aEJpbm9taWFsIGV4dGVuZHMgTWF0aE9iamVjdCB7XHJcblxyXG59XHJcbiIsImltcG9ydCBNYXRoT2JqZWN0IGZyb20gXCIuLi9NYXRoT2JqZWN0XCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYXRoRmFjdG9yaWFsIGV4dGVuZHMgTWF0aE9iamVjdCB7XHJcblxyXG59XHJcbiIsImltcG9ydCBNYXRoT2JqZWN0IGZyb20gXCIuLi9NYXRoT2JqZWN0XCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYXRoUHJvYmFiaWx0eSBleHRlbmRzIE1hdGhPYmplY3Qge1xyXG5cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBFdmFsdWF0b3Ige1xyXG4gIGlzVGVybShpbnB1dENoYXIpIHtcclxuICAgIHJldHVybiAoaW5wdXRDaGFyID49IFwiMFwiICYmIGlucHV0Q2hhciA8PSBcIjlcIikgfHwgL15bYS16QS1aXSokLy50ZXN0KGlucHV0Q2hhcik7XHJcbiAgfVxyXG4gIGlzTnVtZXJpYyhpbnB1dENoYXIpIHtcclxuICAgIHJldHVybiAoaW5wdXRDaGFyID49IFwiMFwiICYmIGlucHV0Q2hhciA8PSBcIjlcIikgfHwgaW5wdXRDaGFyID09PSBcIi5cIjtcclxuICB9XHJcbiAgaXNBbHBoYShpbnB1dENoYXIpIHtcclxuICAgIHJldHVybiAvXlthLXpBLVpdKiQvLnRlc3QoaW5wdXRDaGFyKTtcclxuICB9XHJcbiAgaXNTaWduKGlucHV0Q2hhcikge1xyXG4gICAgcmV0dXJuIC9eW1xcLV18W1xcK10vLnRlc3QoaW5wdXRDaGFyKTtcclxuICB9XHJcbiAgaXNXaGl0ZXNwYWNlKGlucHV0Q2hhcikge1xyXG4gICAgcmV0dXJuIGlucHV0Q2hhciA9PT0gXCIgXCIgfHwgaW5wdXRDaGFyID09PSBcIlxcdFwiIHx8IGlucHV0Q2hhciA9PT0gXCJcXG5cIjtcclxuICB9XHJcbiAgaXNQYXJzYWJsZUNvbXBvbmVudChpbnB1dENoYXIpIHtcclxuICAgIHJldHVybiAoaW5wdXRDaGFyID49IFwiMFwiICYmIGlucHV0Q2hhciA8PSBcIjlcIikgfHwgL15bYS16QS1aXSokLy50ZXN0KGlucHV0Q2hhcikgfHwgaW5wdXRDaGFyID09PSBcIlxcXFxcIjtcclxuICB9XHJcbiAgaXNDb25qb2luZWRNdWx0aXBsaWNhdGlvbihzaWduZWQsIGN1cnJlbnRDaGFyLCBsYXN0Q2hhciwgbGlzdCwgY29tcG9uZW50KSB7XHJcbiAgICByZXR1cm4gIXNpZ25lZCAmJiBjdXJyZW50Q2hhciAhPT0gXCJcXFxcXCIgJiYgbGFzdENoYXIgIT09IFwiPVwiICYmIGxpc3QubGVuZ3RoID4gMSAmJiBsaXN0W2xpc3QubGVuZ3RoIC0gMl0udHlwZSAhPT0gXCJTeW1ib2xcIiAmJiBjb21wb25lbnQudHlwZSAhPT0gXCJTeW1ib2xcIjtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IExvZ21vbiBmcm9tIFwiLi4vdXRpbGl0eV9zZXJ2aWNlcy9Mb2dtb25cIjtcclxuY29uc3QgTG9nY2FsID0gTG9nbW9uLmdldExvZ2dlcihcIkxvZ2NhbFwiKTtcclxuXHJcbmltcG9ydCBFdmFsdWF0b3IgZnJvbSBcIi4vRXZhbHVhdG9yXCI7XHJcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4uL3V0aWxpdHlfc2VydmljZXMvTG9nZ2VyXCI7XHJcblxyXG5pbXBvcnQgTWF0aEVxdWF0aW9uIGZyb20gXCIuLi9tYXRoLWNvbXBvbmVudHMvYmFzaWMvTWF0aEVxdWF0aW9uXCI7XHJcbmltcG9ydCBNYXRoVGVybSBmcm9tIFwiLi4vbWF0aC1jb21wb25lbnRzL2Jhc2ljL01hdGhUZXJtXCI7XHJcbmltcG9ydCBNYXRoT3BlcmF0aW9uIGZyb20gXCIuLi9tYXRoLWNvbXBvbmVudHMvYmFzaWMvTWF0aE9wZXJhdGlvblwiO1xyXG5pbXBvcnQgTWF0aEJyYWNrZXRlZCBmcm9tIFwiLi4vbWF0aC1jb21wb25lbnRzL2Jhc2ljL01hdGhCcmFja2V0ZWRcIjtcclxuaW1wb3J0IE1hdGhQcm9iYWJpbGl0eSBmcm9tIFwiLi4vbWF0aC1jb21wb25lbnRzL3Byb2JhYmlsaXR5L01hdGhQcm9iYWJpbGl0eVwiO1xyXG5pbXBvcnQgTWF0aEJpbm9taWFsIGZyb20gXCIuLi9tYXRoLWNvbXBvbmVudHMvcHJvYmFiaWxpdHkvTWF0aEJpbm9taWFsXCI7XHJcbmltcG9ydCBNYXRoRmFjdG9yaWFsIGZyb20gXCIuLi9tYXRoLWNvbXBvbmVudHMvcHJvYmFiaWxpdHkvTWF0aEZhY3RvcmlhbFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGF0ZXhQYXJzZXIge1xyXG5cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMuRXZhbHVhdG9yID0gbmV3IEV2YWx1YXRvcigpO1xyXG4gICAgdGhpcy5pbnB1dCA9IFwiXCI7XHJcbiAgICB0aGlzLmluZGV4ID0gMDtcclxuICAgIHRoaXMuc3RhdHVzID0gXCJcIjtcclxuICAgIHRoaXMuYmFkID0gMDtcclxuICAgIHRoaXMudmFyaWFibGVzID0ge307XHJcbiAgfVxyXG5cclxuICBzZXRJbnB1dChsYXRleCkge1xyXG4gICAgdGhpcy5pbnB1dCA9IGxhdGV4O1xyXG4gICAgdGhpcy5pbmRleCA9IDA7XHJcbiAgICB0aGlzLnN0YXR1cyA9IFwiXCI7XHJcbiAgICB0aGlzLmJhZCA9IDA7XHJcbiAgICB0aGlzLnZhcmlhYmxlcyA9IHt9O1xyXG4gICAgTG9nZ2VyLnJlc2V0TG9ncygpO1xyXG4gIH1cclxuXHJcbiAgcGFyc2VFcXVhdGlvbihsYXRleCkge1xyXG4gICAgTG9nY2FsLnN0YXJ0KFwiTGF0ZXhQYXJzZXIgcGFyc2VFcXVhdGlvbihsYXRleCk6IFwiICsgbGF0ZXgpO1xyXG4gICAgLy8gTG9nY2FsLnRpbWVyU3RhcnQoXCJMYXRleFBhcnNlciBwYXJzZUVxdWF0aW9uXCIpO1xyXG5cclxuICAgIHRoaXMuc2V0SW5wdXQobGF0ZXgpO1xyXG4gICAgY29uc3QgZXF1YXRpb24gPSBuZXcgTWF0aEVxdWF0aW9uKCk7XHJcbiAgICAvLyB0cnkge1xyXG4gICAgICBlcXVhdGlvbi5sZWZ0c2lkZSA9IHRoaXMucGFyc2VUb0NoYXIoXCI9XCIpO1xyXG4gICAgICBlcXVhdGlvbi5yaWdodHNpZGUgPSB0aGlzLnBhcnNlVG9DaGFyKFwiXFxcXFxcXFxcIik7XHJcbiAgICAvLyB9IGNhdGNoIChlKSB7XHJcbiAgICAvLyAgIGNvbnNvbGUubG9nKFwiTGF0ZXhQYXJzZXIgZXJyb3JlZCFcIiwgZSk7XHJcbiAgICAvLyAgIHRoaXMuc3RhdHVzID0gXCJQYXJzZXIgZXJyb3JcIjtcclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBMb2djYWwudGltZXJFbmQoXCJMYXRleFBhcnNlciBwYXJzZUVxdWF0aW9uXCIpO1xyXG4gICAgTG9nY2FsLmFwcGVuZChcImVxdWF0aW9uKGxhdGV4KSBcIiArIGVxdWF0aW9uLnRvTGF0ZXgoKSk7XHJcbiAgICBMb2djYWwuZW5kKFwiRlJPTSBMYXRleFBhcnNlciBwYXJzZUVxdWF0aW9uKGxhdGV4KTogUkVUVVJOIGVxdWF0aW9uIFwiICsgZXF1YXRpb24udG9MYXRleCgpKTtcclxuICAgIHJldHVybiBlcXVhdGlvbjtcclxuICB9XHJcblxyXG4gIHBhcnNlVG9DaGFyKGV4aXRpbmdDaGFyKSB7XHJcbiAgICBMb2djYWwuc3RhcnQoXCJwYXJzZVRvQ2hhcihleGl0aW5nQ2hhcik6IFwiICsgZXhpdGluZ0NoYXIpO1xyXG4gICAgbGV0IGxpc3QgPSBbXSxcclxuICAgICAgbGFzdENoYXIgPSBcIlwiLFxyXG4gICAgICBjdXJyZW50Q2hhciA9IFwiXCIsXHJcbiAgICAgIG5lZ2F0aXZlID0gZmFsc2UsXHJcbiAgICAgIHNpZ25lZCA9IGZhbHNlLFxyXG4gICAgICBjb21wb25lbnQgPSBudWxsO1xyXG5cclxuICAgIHdoaWxlICh0aGlzLmluZGV4IDwgdGhpcy5pbnB1dC5sZW5ndGgpIHtcclxuICAgICAgaWYgKHRoaXMuYmFkID09PSAxMCkgcmV0dXJuIGxpc3Q7XHJcbiAgICAgIGxhc3RDaGFyID0gdGhpcy5nZXRMYXN0Q2hhcih0aGlzLmluZGV4KTtcclxuICAgICAgY3VycmVudENoYXIgPSB0aGlzLmdldENoYXIoKTtcclxuXHJcbiAgICAgIGlmICh0aGlzLkV2YWx1YXRvci5pc1BhcnNhYmxlQ29tcG9uZW50KGN1cnJlbnRDaGFyKSkge1xyXG4gICAgICAgIGNvbXBvbmVudCA9IHRoaXMucGFyc2VOZXh0Q29tcG9uZW50KGxpc3QsIHNpZ25lZCk7XHJcbiAgICAgICAgaWYgKGNvbXBvbmVudCkge1xyXG4gICAgICAgICAgaWYgKG5lZ2F0aXZlKSB7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudC5zd2l0Y2hTaWduKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBsaXN0LnB1c2goY29tcG9uZW50KTtcclxuICAgICAgICAgIC8vIGNoZWNrcyBmb3IgaWYgY3VycmVudCBjb21wb25lbnQgd2FzIGNvbW1hbmQgPiBubyBtdWx0aXBsaWNhdGlvbiBhcyBpcyBpdCBoYW5kbGVkXHJcbiAgICAgICAgICAvLyBhbHNvIGZvciBub3Qgc2VsZi9wcmV2aW91cyBjb21wb25lbnQgYmVpbmcgU3ltYm9sIGlmIGluc2lkZSBwcm9iYWJpbGl0eVxyXG4gICAgICAgICAgaWYgKHRoaXMuRXZhbHVhdG9yLmlzQ29uam9pbmVkTXVsdGlwbGljYXRpb24oc2lnbmVkLCBjdXJyZW50Q2hhciwgbGFzdENoYXIsIGxpc3QsIGNvbXBvbmVudCkpIHtcclxuICAgICAgICAgICAgTG9nY2FsLmFwcGVuZChcImlzQ29uam9pbmVkTXVsdGlwbGljYXRpb24gPT09IFRSVUVcIik7XHJcbiAgICAgICAgICAgIExvZ2NhbC5hcHBlbmQoXCI+Q3JlYXRlTXVsdGlwbGFjdGlvbkZyb21MaXN0KGxpc3QpIGxpc3QgXCIgKyBsaXN0KTtcclxuICAgICAgICAgICAgdGhpcy5jcmVhdGVNdWx0aXBsaWNhdGlvbkZyb21MaXN0KGxpc3QpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgbmVnYXRpdmUgPSBmYWxzZTtcclxuICAgICAgICAgIHNpZ25lZCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmIChjdXJyZW50Q2hhciA9PT0gZXhpdGluZ0NoYXIpIHtcclxuICAgICAgICBpZiAodGhpcy5pbmRleCAhPT0gdGhpcy5pbnB1dC5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICB0aGlzLnBhcnNlQ2hhcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBMb2djYWwuYXBwZW5kKFwiY3VycmVudENoYXIgPT09IGV4aXRpbmdDaGFyXCIpO1xyXG4gICAgICAgIExvZ2NhbC5lbmQoXCJGUk9NIHBhcnNlVG9DaGFyKGV4aXRpbmdjaGFyKTogXCIgKyBleGl0aW5nQ2hhciArIFwiIFJFVFVSTiBsaXN0IFwiICsgbGlzdCk7XHJcbiAgICAgICAgcmV0dXJuIGxpc3Q7XHJcbiAgICAgIH0gZWxzZSBpZiAoY3VycmVudENoYXIgPT09IFwiLVwiIHx8IGN1cnJlbnRDaGFyID09PSBcIitcIikge1xyXG4gICAgICAgIHNpZ25lZCA9IHRydWU7XHJcbiAgICAgICAgbmVnYXRpdmUgPSB0aGlzLnBhcnNlU2lnbigpO1xyXG4gICAgICB9IGVsc2UgaWYgKGN1cnJlbnRDaGFyID09PSBcIl5cIikge1xyXG4gICAgICAgIGNvbXBvbmVudCA9IHRoaXMucGFyc2VJZkV4cG9uZW50KCk7XHJcbiAgICAgICAgaWYgKGNvbXBvbmVudCkge1xyXG4gICAgICAgICAgbGlzdFtsaXN0Lmxlbmd0aCAtIDFdLnNldEV4cG9uZW50KGV4cG9uZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gbmVnYXRpdmUgPSBmYWxzZTsgLy8gaG93IGNvdWxkIHRoZXNlIGV2ZW4gYmUgcG9zc2libGU/P1xyXG4gICAgICAgIC8vIHNpZ25lZCA9IGZhbHNlO1xyXG4gICAgICB9IGVsc2UgaWYgKGN1cnJlbnRDaGFyID09PSBcIl9cIikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwidW5kZXJzY29yZSBfIGlucHV0dGVkIGluc2lkZSBwYXJzZVRvQ2hhciBhbmQgaXQncyBub3QgaW1wbGVtZW50ZWQuLiA6L1wiKTtcclxuICAgICAgICB0aGlzLmluZGV4Kys7XHJcbiAgICAgIH0gZWxzZSBpZiAoY3VycmVudENoYXIgPT09IFwiIVwiKSB7XHJcbiAgICAgICAgLy8gZmFjdG9yaWFscyBhcmVuJ3QgY29uc3VtZWQgaW4gcGFyc2VCcmFja2V0ZWQ/Li5cclxuICAgICAgICB0aGlzLmluZGV4Kys7XHJcbiAgICAgIH0gZWxzZSBpZiAoY3VycmVudENoYXIgPT09IFwifVwiIHx8IGN1cnJlbnRDaGFyID09PSBcIilcIikge1xyXG4gICAgICAgIC8vIGRvIG51dHRpbmcsIGp1c3QgY29uc3VtZSB0aGUgY2hhcj9cclxuICAgICAgICB0aGlzLmluZGV4Kys7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5iYWQrKztcclxuICAgICAgICB0aGlzLmluZGV4Kys7XHJcbiAgICAgICAgaWYgKHRoaXMuYmFkID09PSAxMCkge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coXCJ0b28gbWFueSBiYWQgY2hhcmFjdGVycyBcIiArIHRoaXMuY3VycmVudGx5UGFyc2VkKCkpO1xyXG4gICAgICAgICAgdGhpcy5zdGF0dXMgPSBcIkJhZCBpbnB1dFwiO1xyXG4gICAgICAgICAgTG9nY2FsLmVuZChcIkZST00gcGFyc2VUb0NoYXIoZXhpdGluZ0NoYXIpOiBcIiArIGV4aXRpbmdDaGFyICsgXCIgUkVUVVJOIGxpc3QgXCIgKyBsaXN0KTtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkJhZCBpbnB1dFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbmVnYXRpdmUgPSBmYWxzZTtcclxuICAgICAgICBzaWduZWQgPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgTG9nY2FsLmVuZChcIkZST00gcGFyc2VUb0NoYXIoZXhpdGluZ0NoYXIpOiBSRVRVUk4gbGlzdCBcIiArIGxpc3QpO1xyXG4gICAgcmV0dXJuIGxpc3Q7XHJcbiAgfVxyXG5cclxuICBwYXJzZU5leHRDb21wb25lbnQobGlzdCwgc2lnbmVkKSB7XHJcbiAgICBMb2djYWwuc3RhcnQoXCJwYXJzZU5leHRDb21wb25lbnQobGlzdCwgc2lnbmVkKTogXCIgKyBsaXN0ICsgXCIsIFwiICsgc2lnbmVkKTtcclxuICAgIGxldCBjb21wb25lbnQgPSBudWxsLFxyXG4gICAgICBjdXJyZW50Q2hhciA9IHRoaXMucGFyc2VJZldoaXRlc3BhY2UoKTtcclxuXHJcbiAgICAvLyB0aGlzLnBhcnNlSWZXaGl0ZXNwYWNlKCk7XHJcbiAgICAvLyBjdXJyZW50Q2hhciA9IHRoaXMuaW5wdXQuY2hhckF0KHRoaXMuaW5kZXgpO1xyXG5cclxuICAgIGlmIChjdXJyZW50Q2hhciA9PT0gXCJQXCIpIHtcclxuICAgICAgaWYgKHRoaXMuaXNOZXh0KFwiXFxcXGxlZnQoXCIpKSB7XHJcbiAgICAgICAgY29tcG9uZW50ID0gdGhpcy5wYXJzZVByb2JhYmlsaXR5KCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29tcG9uZW50ID0gdGhpcy5wYXJzZVRlcm0oKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmICh0aGlzLkV2YWx1YXRvci5pc1Rlcm0oY3VycmVudENoYXIpKSB7XHJcbiAgICAgIGNvbXBvbmVudCA9IHRoaXMucGFyc2VUZXJtKCk7XHJcbiAgICB9IGVsc2UgaWYgKGN1cnJlbnRDaGFyID09PSBcIlxcXFxcIikge1xyXG4gICAgICB0aGlzLnBhcnNlQ29tbWFuZChsaXN0LCBzaWduZWQpO1xyXG4gICAgICBjb21wb25lbnQgPSBsaXN0LnNwbGljZShsaXN0Lmxlbmd0aCAtIDEsIDEpWzBdO1xyXG4gICAgICAvLyBjb21wb25lbnQgPSBsaXN0W2xpc3QubGVuZ3RoLTFdO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc29sZS5sb2coXCJVbmtub3duIGN1cnJlbnRDaGFyKFwiICsgY3VycmVudENoYXIgKyBcIikgaW4gcGFyc2VOZXh0Q29tcG9uZW50XCIpO1xyXG4gICAgICBMb2djYWwuZW5kKFwiRlJPTSBwYXJzZU5leHRDb21wb25lbnQobGlzdCwgc2lnbmVkKTogUkVUVVJOIGNvbXBvbmVudCBcIiArIGNvbXBvbmVudCk7XHJcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJVbmtub3duIGN1cnJlbnRDaGFyIFwiICsgY3VycmVudENoYXIgKyBcIiBpbiBwYXJzZU5leHRDb21wb25lbnRcIik7XHJcbiAgICAgIC8vIHJldHVybiBjb21wb25lbnQ7XHJcbiAgICB9XHJcbiAgICBMb2djYWwuZW5kKFwiRlJPTSBwYXJzZU5leHRDb21wb25lbnQobGlzdCwgc2lnbmVkKTogUkVUVVJOIGNvbXBvbmVudCBcIiArIGNvbXBvbmVudCk7XHJcbiAgICByZXR1cm4gY29tcG9uZW50O1xyXG4gIH1cclxuXHJcbiAgcGFyc2VUZXJtKCkge1xyXG4gICAgTG9nY2FsLnN0YXJ0KFwicGFyc2VUZXJtKCk6XCIpO1xyXG4gICAgbGV0IHZhbHVlID0gXCJcIixcclxuICAgICAgdmFyaWFibGUgPSBcIlwiLFxyXG4gICAgICB0ZXJtLCBleHBvbmVudCwgbG93ZXIgPSBcIlwiLFxyXG4gICAgICBjdXJyZW50Q2hhciA9IHRoaXMuZ2V0Q2hhcigpLFxyXG4gICAgICBmYWN0b3JpYWwgPSBmYWxzZTtcclxuXHJcbiAgICB3aGlsZSAodGhpcy5FdmFsdWF0b3IuaXNOdW1lcmljKGN1cnJlbnRDaGFyKSkge1xyXG4gICAgICB2YWx1ZSArPSBjdXJyZW50Q2hhcjtcclxuICAgICAgY3VycmVudENoYXIgPSB0aGlzLnBhcnNlQ2hhcigpO1xyXG4gICAgfVxyXG4gICAgd2hpbGUgKHRoaXMuRXZhbHVhdG9yLmlzQWxwaGEoY3VycmVudENoYXIpKSB7XHJcbiAgICAgIHZhcmlhYmxlICs9IGN1cnJlbnRDaGFyO1xyXG4gICAgICAvLyBtYXliZSBhZGQgY3JhenkgZnVuY3Rpb25hbGl0eSBmb3IgeHggbm90YXRpb24gd2hpY2ggaXMgeF4yXHJcbiAgICAgIHRoaXMuYWRkQWxwaGFDaGFyVG9WYXJpYWJsZXMoY3VycmVudENoYXIpO1xyXG4gICAgICBjdXJyZW50Q2hhciA9IHRoaXMucGFyc2VDaGFyKCk7XHJcbiAgICB9XHJcbiAgICBpZiAoY3VycmVudENoYXIgPT09IFwiIVwiKSB7IC8vIGZhY3RvcmlhbFxyXG4gICAgICBmYWN0b3JpYWwgPSB0cnVlO1xyXG4gICAgICBjdXJyZW50Q2hhciA9IHRoaXMucGFyc2VDaGFyKCk7XHJcbiAgICB9XHJcbiAgICBpZiAoY3VycmVudENoYXIgPT09IFwiX1wiKSB7IC8vIGhhcyBhIHVuZGVyc2NvcmUgbm90YXRpb25cclxuICAgICAgY3VycmVudENoYXIgPSB0aGlzLnBhcnNlQ2hhcigpO1xyXG4gICAgICBpZiAoY3VycmVudENoYXIgPT09IFwie1wiKSB7XHJcbiAgICAgICAgbG93ZXIgPSB0aGlzLnBhcnNlVG9DaGFyKFwifVwiKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBvbmx5IG9uZSBjb21wb25lbnQgd2hpY2ggaXMgdGVybT8/P1xyXG4gICAgICAgIGxvd2VyID0gdGhpcy5wYXJzZVRlcm0oKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgY3VycmVudENoYXIgPSB0aGlzLmdldENoYXIoKTsgLy8gb3IgcGFyc2VDaGFyPz9cclxuICAgIGV4cG9uZW50ID0gdGhpcy5wYXJzZUlmRXhwb25lbnQoKTtcclxuICAgIGlmIChjdXJyZW50Q2hhciA9PT0gXCInXCIpIHtcclxuICAgICAgTG9nY2FsLmFwcGVuZChcIlRyYW5zZm9ybWluZyBUZXJtIGludG8gY29tcGxlbWVudFwiKTsgXHJcbiAgICAgIGMgPSB0aGlzLnBhcnNlQ2hhcigpOyBcclxuICAgICAgZXhwb25lbnQgPSBuZXcgTWF0aFN5bWJvbChcIm1hdGhzZntjfVwiKTtcclxuICAgIH1cclxuICAgIHZhbHVlID0gdmFsdWUubGVuZ3RoID09PSAwID8gMSA6IHBhcnNlRmxvYXQodmFsdWUpO1xyXG4gICAgdGVybSA9IG5ldyBNYXRoVGVybSh2YXJpYWJsZSwgdmFsdWUsIGV4cG9uZW50KTtcclxuICAgIGlmIChmYWN0b3JpYWwpIHtcclxuICAgICAgTG9nY2FsLmFwcGVuZChcIldob3BzICdUZXJtJyB3YXMgYWN0dWFsbHkgZmFjdG9yaWFsXCIpO1xyXG4gICAgICB0ZXJtID0gbmV3IE1hdGhGYWN0b3JpYWwodGVybSk7XHJcbiAgICB9XHJcbiAgICBMb2djYWwuZW5kKFwiRlJPTSBwYXJzZVRlcm0oKTogUkVUVVJOIHRlcm0gXCIgKyB0ZXJtKTtcclxuICAgIHJldHVybiB0ZXJtO1xyXG4gIH1cclxuXHJcbiAgcGFyc2VJZkV4cG9uZW50KCkge1xyXG4gICAgTG9nY2FsLnN0YXJ0KFwicGFyc2VJZkV4cG9uZW50KCk6XCIpO1xyXG4gICAgY29uc3QgY3VycmVudENoYXIgPSB0aGlzLnBhcnNlSWZDaGFyKFwiXlwiKTtcclxuICAgIGxldCBleHBvbmVudCA9IFwiXCI7XHJcbiAgICBpZiAoY3VycmVudENoYXIpIHtcclxuICAgICAgaWYgKGN1cnJlbnRDaGFyID09PSBcIntcIikge1xyXG4gICAgICAgIGxldCBsaXN0ID0gW107XHJcbiAgICAgICAgdGhpcy5wYXJzZUN1cmx5QnJhY2tldGVkKGxpc3QpO1xyXG4gICAgICAgIGV4cG9uZW50ID0gbGlzdFswXS5yZWR1Y2VBbmRSZXR1cm5JZlBvc3NpYmxlKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZXhwb25lbnQgPSB0aGlzLnBhcnNlVGVybSgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBMb2djYWwuZW5kKFwiRlJPTSBwYXJzZUlmRXhwb25lbnQoKTogUkVUVVJOIGV4cG9uZW50IFwiICsgZXhwb25lbnQpO1xyXG4gICAgcmV0dXJuIGV4cG9uZW50O1xyXG4gIH1cclxuXHJcbiAgcGFyc2VDb21tYW5kKGxpc3QsIHNpZ25lZCkge1xyXG4gICAgTG9nY2FsLmFwcGVuZChcInBhcnNlQ29tbWFuZChsaXN0LCBzaWduZWQpOiBcIiArIGxpc3QgKyBcIiwgXCIgKyBzaWduZWQpO1xyXG4gICAgbGV0IGNvbW1hbmQgPSBcIlwiLFxyXG4gICAgICBsYXN0Q2hhciA9IHRoaXMuZ2V0TGFzdENoYXIoKSxcclxuICAgICAgY3VycmVudENoYXIgPSB0aGlzLnBhcnNlQ2hhcigpOyAvLyBjb25zdW1pbmcgXFxcclxuXHJcbiAgICB3aGlsZSAodGhpcy5FdmFsdWF0b3IuaXNBbHBoYShjdXJyZW50Q2hhcikpIHtcclxuICAgICAgY29tbWFuZCArPSBjdXJyZW50Q2hhcjtcclxuICAgICAgY3VycmVudENoYXIgPSB0aGlzLnBhcnNlQ2hhcigpO1xyXG4gICAgICBpZiAoY29tbWFuZC5sZW5ndGggPT09IDEwKSB7XHJcbiAgICAgICAgdGhyb3cgKFwib3Zlcmx5IGxvbmcgc3RyaW5nIGluIHBhcnNlQ29tbWFuZCBcIiArIGNvbW1hbmQpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBMb2djYWwuYXBwZW5kKFwiQ29tbWFuZCBpcyBcIiArIGNvbW1hbmQpO1xyXG4gICAgc3dpdGNoIChjb21tYW5kKSB7XHJcbiAgICAgIGNhc2UgXCJjZG90XCI6XHJcbiAgICAgICAgdGhpcy5wYXJzZU11bHRpcGxpY2F0aW9uKGxpc3QpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwiZnJhY1wiOlxyXG4gICAgICAgIHRoaXMucGFyc2VGcmFjdGlvbihsaXN0KTtcclxuICAgICAgICBpZiAoIXNpZ25lZCAmJiBsYXN0Q2hhciAhPT0gXCI9XCIgJiYgbGlzdC5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICBMb2djYWwuYXBwZW5kKFwiSUYgVFJVRSAhc2lnbmVkICYmIFwiICsgbGFzdENoYXIgKyBcIiAhPT0gXFxcIj1cXFwiICYmIFwiICsgbGlzdC5sZW5ndGggKyBcIj4xXCIpO1xyXG4gICAgICAgICAgTG9nY2FsLmFwcGVuZChcIj5DcmVhdGVNdWx0aXBsYWN0aW9uRnJvbUxpc3QobGlzdCkgbGlzdCBcIiArIGxpc3QpO1xyXG4gICAgICAgICAgdGhpcy5jcmVhdGVNdWx0aXBsaWNhdGlvbkZyb21MaXN0KGxpc3QpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBcImxlZnRcIjpcclxuICAgICAgICBpZiAoY3VycmVudENoYXIgPT09IFwiKFwiICYmIChzaWduZWQgfHwgbGFzdENoYXIgPT09IFwiPVwiIHx8IGxpc3QubGVuZ3RoID09PSAwKSkge1xyXG4gICAgICAgICAgdGhpcy5wYXJzZVJvdW5kQnJhY2tldGVkKGxpc3QpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoY3VycmVudENoYXIgPT09IFwiKFwiKSB7XHJcbiAgICAgICAgICB0aGlzLnBhcnNlTXVsdGlwbGljYXRpb24obGlzdCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vIHVua25vd24gdGhpbmd5IGkuZS4geyAvIFsgLyB8IG9yIHNvbWV0aGluZ1xyXG4gICAgICAgICAgY29uc29sZS5sb2coXCJ1bmtub3duIGxlZnQgdGhpbmd5IFwiICsgYyk7XHJcbiAgICAgICAgICBsaXN0LnB1c2gobmV3IE1hdGhTeW1ib2woY29tbWFuZCkpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwicmlnaHRcIjpcclxuICAgICAgICByZXR1cm47IC8vIHJldHVybmluZyB0byBwYXJzZVRvQ2hhciB3aXRob3V0IGNvbnN1bWluZyBcIilcIiBvciB3aGF0ZXZlclxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwic3VtXCI6XHJcbiAgICAgICAgdGhpcy5wYXJzZVN1bShsaXN0KTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBcImJpbm9tXCI6XHJcbiAgICAgICAgdGhpcy5wYXJzZUJpbm9taWFsKGxpc3QpO1xyXG4gICAgICAgIGlmICghc2lnbmVkICYmIGxhc3RDaGFyICE9PSBcIj1cIiAmJiBsaXN0Lmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgIHRoaXMuY3JlYXRlTXVsdGlwbGljYXRpb25Gcm9tTGlzdChsaXN0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgXCJtYXRoc2ZcIjpcclxuICAgICAgICBsZXQgY29tcGxlbWVudCA9IFtdO1xyXG4gICAgICAgIHRoaXMucGFyc2VDdXJseUJyYWNrZXRlZChjb21wbGVtZW50KTtcclxuICAgICAgICBsZXQgY29udGVudCA9IGNvbXBsZW1lbnRbMF0uY29udGVudDtcclxuICAgICAgICBpZiAoY29udGVudC5sZW5ndGggPT09IDEgJiYgY29udGVudFswXS5pc1Rlcm0oKSAmJiBjb250ZW50WzBdLnZhcmlhYmxlID09PSBcImNcIikge1xyXG4gICAgICAgICAgbGlzdC5wdXNoKG5ldyBNYXRoU3ltYm9sKFwibWF0aHNme2N9XCIpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgXCJ0ZXh0XCI6XHJcbiAgICAgICAgLy8ganVzdCBwYXJzZXMgYW5kIGlnbm9yZXNcclxuICAgICAgICB0aGlzLnNraXBUb0NoYXIoXCJ9XCIpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIGNvbnN0IHN5bWJvbCA9IG5ldyBNYXRoU3ltYm9sKGNvbW1hbmQpO1xyXG4gICAgICAgIGxpc3QucHVzaChzeW1ib2wpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcGFyc2VNdWx0aXBsaWNhdGlvbihsaXN0KSB7XHJcbiAgICBMb2djYWwuYXBwZW5kKFwicGFyc2VNdWx0aXBsaWNhdGlvbihsaXN0KTogXCIgKyBsaXN0KTtcclxuXHJcbiAgICBjb25zdCBmaXJzdGZhY3RvciA9IGxpc3Quc3BsaWNlKGxpc3QubGVuZ3RoIC0gMSwgMSlbMF07XHJcbiAgICBsZXQgc2Vjb25kZmFjdG9yO1xyXG4gICAgY29uc3QgY3VycmVudENoYXIgPSB0aGlzLnBhcnNlSWZXaGl0ZXNwYWNlKCk7XHJcbiAgICBjb25zdCBuZWdhdGl2ZSA9IHRoaXMucGFyc2VTaWduKCk7XHJcblxyXG4gICAgaWYgKHRoaXMuRXZhbHVhdG9yLmlzVGVybShjdXJyZW50Q2hhcikpIHtcclxuICAgICAgc2Vjb25kZmFjdG9yID0gdGhpcy5wYXJzZVRlcm0oKTtcclxuICAgIH0gZWxzZSBpZiAoY3VycmVudENoYXIgPT09IFwiXFxcXFwiKSB7XHJcbiAgICAgIGxldCBjb250ZW50ID0gW107XHJcbiAgICAgIHRoaXMucGFyc2VDb21tYW5kKGNvbnRlbnQpO1xyXG4gICAgICBzZWNvbmRmYWN0b3IgPSBjb250ZW50WzBdO1xyXG4gICAgfSBlbHNlIGlmIChjdXJyZW50Q2hhciA9PT0gXCIoXCIpIHtcclxuICAgICAgbGV0IGNvbnRlbnQgPSBbXTtcclxuICAgICAgdGhpcy5wYXJzZVJvdW5kQnJhY2tldGVkKGNvbnRlbnQpO1xyXG4gICAgICBzZWNvbmRmYWN0b3IgPSBjb250ZW50WzBdO1xyXG4gICAgICAvLyBtYWtlcyBtdWx0aXBsaWNhdGlvbnMgc2hvcnRlciBidXQga2luZGEgd2FudCB0aGUgYnJhY2tldHMgdG9cclxuICAgICAgLy8gcmVkdWNlIGluIG9yZGVyIHVzZXIgaW5wdXR0ZWQgdGhlaXIgc3R1ZmZcclxuICAgICAgLy8gc2Vjb25kZmFjdG9yID0gY29udGVudFswXS5yZWR1Y2VBbmRSZXR1cm5JZlBvc3NpYmxlKCk7XHJcbiAgICAgIC8vIH0gZWxzZSBpZiAoYyA9PT0gXCItXCIpIHtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiY3VycmVudGx5IFwiICsgdGhpcy5jdXJyZW50bHlQYXJzZWQoKSk7XHJcbiAgICAgIHRocm93IChcImVycm9yIGluIHBhcnNlTXVsdGlwbGljYXRpb24uIHVua25vd24gc2Vjb25kZmFjdG9yOiBcIiArIGN1cnJlbnRDaGFyKTtcclxuICAgIH1cclxuICAgIGlmIChuZWdhdGl2ZSkge1xyXG4gICAgICBzZWNvbmRmYWN0b3Iuc3dpdGNoU2lnbigpO1xyXG4gICAgfVxyXG4gICAgY29uc3Qgb3BlcmF0aW9uID0gbmV3IE1hdGhPcGVyYXRpb24oZmlyc3RmYWN0b3IsIFwiKlwiLCBzZWNvbmRmYWN0b3IpO1xyXG4gICAgbGlzdC5wdXNoKG9wZXJhdGlvbik7XHJcbiAgfVxyXG5cclxuICBwYXJzZUZyYWN0aW9uKGxpc3QpIHtcclxuICAgIExvZ2NhbC5hcHBlbmQoXCJwYXJzZUZyYWN0aW9uKGxpc3QpOiBcIiArIGxpc3QpO1xyXG5cclxuICAgIGxldCBmaXJzdGxpc3QgPSBbXSxcclxuICAgICAgc2Vjb25kbGlzdCA9IFtdO1xyXG5cclxuICAgIHRoaXMucGFyc2VDdXJseUJyYWNrZXRlZChmaXJzdGxpc3QpO1xyXG4gICAgdGhpcy5wYXJzZUN1cmx5QnJhY2tldGVkKHNlY29uZGxpc3QpO1xyXG5cclxuICAgIGNvbnN0IGZpcnN0ZmFjdG9yID0gZmlyc3RsaXN0WzBdLnJldHVybkNvbnRlbnRJZlBvc3NpYmxlKCk7XHJcbiAgICBjb25zdCBzZWNvbmRmYWN0b3IgPSBzZWNvbmRsaXN0WzBdLnJldHVybkNvbnRlbnRJZlBvc3NpYmxlKCk7XHJcbiAgICBjb25zdCBvcGVyYXRpb24gPSBuZXcgTWF0aE9wZXJhdGlvbihmaXJzdGZhY3RvciwgXCIvXCIsIHNlY29uZGZhY3Rvcik7XHJcbiAgICBsaXN0LnB1c2gob3BlcmF0aW9uKTtcclxuICB9XHJcblxyXG4gIHBhcnNlQ3VybHlCcmFja2V0ZWQobGlzdCkge1xyXG4gICAgTG9nY2FsLmFwcGVuZChcInBhcnNlQ3VybHlCcmFja2V0ZWQobGlzdCk6IFwiICsgbGlzdCk7XHJcbiAgICB0aGlzLnBhcnNlSWZDaGFyKFwie1wiKTtcclxuICAgIGNvbnN0IGNvbnRlbnQgPSB0aGlzLnBhcnNlVG9DaGFyKFwifVwiKTtcclxuICAgIGxldCBicmFja2V0ZWQgPSBuZXcgTWF0aEJyYWNrZXRlZChjb250ZW50KTtcclxuICAgIGxpc3QucHVzaChicmFja2V0ZWQpO1xyXG4gIH1cclxuXHJcbiAgcGFyc2VSb3VuZEJyYWNrZXRlZChsaXN0KSB7XHJcbiAgICBMb2djYWwuYXBwZW5kKFwicGFyc2VSb3VuZEJyYWNrZXRlZChsaXN0KTogXCIgKyBsaXN0KTtcclxuICAgIHRoaXMucGFyc2VJZkNoYXIoXCIoXCIpOyAvLyBjb25zdW1pbmcgdGhlIFwiKFwiXHJcbiAgICBsZXQgYnJhY2tldGVkID0gbmV3IE1hdGhCcmFja2V0ZWQodGhpcy5wYXJzZVRvQ2hhcihcIilcIikpO1xyXG4gICAgYnJhY2tldGVkLnNldEV4cG9uZW50KHRoaXMucGFyc2VJZkV4cG9uZW50KCkpO1xyXG4gICAgaWYgKHRoaXMuZ2V0Q2hhcigpID09PSBcIidcIikge1xyXG4gICAgICBMb2djYWwuYXBwZW5kKFwiVHJhbnNmb3JtaW5nIFByb2JhYmlsaXR5IGludG8gY29tcGxlbWVudFwiKTtcclxuICAgICAgdGhpcy5wYXJzZUNoYXIoKTtcclxuICAgICAgYnJhY2tldGVkLnNldEV4cG9uZW50KG5ldyBNYXRoU3ltYm9sKFwibWF0aHNme2N9XCIpKTtcclxuICAgIH1cclxuICAgIC8vIGNoZWNrIGlmICEgaXMgZm91bmQgYWZ0ZXIgKSA9PiBmYWN0b3JpYWxcclxuICAgIGlmICh0aGlzLnBhcnNlSWZDaGFyKFwiIVwiKSkge1xyXG4gICAgICBicmFja2V0ZWQgPSBuZXcgTWF0aEZhY3RvcmlhbChicmFja2V0ZWQpO1xyXG4gICAgfVxyXG4gICAgbGlzdC5wdXNoKGJyYWNrZXRlZCk7XHJcbiAgfVxyXG5cclxuICBwYXJzZVByb2JhYmlsaXR5KCkge1xyXG4gICAgTG9nY2FsLmFwcGVuZChcInBhcnNlVG9Qcm9iYWJpbGl0eSgpOlwiKTtcclxuICAgIGxldCBwcm9iYWJpbGl0eSxcclxuICAgICAgdmFybGlzdCA9IFtdO1xyXG5cclxuICAgIHRoaXMucGFyc2VJZkNoYXIoXCJQXCIpOyAvLyBjb25zdW1pbmcgdGhlIFwiUFwiXHJcbiAgICB0aGlzLnBhcnNlQ29tbWFuZCh2YXJsaXN0LCBmYWxzZSk7IC8vIHBhcnNpbmcgY29udGVudCBiZXR3ZWVuIGJyYWNrZXRzIFAoIDwtPiApXHJcbiAgICAvLyB0aGlzLnBhcnNlQnJhY2tldGVkKHZhcmxpc3QpO1xyXG4gICAgY29uc3QgYnJhY2tldGVkID0gdmFybGlzdFswXTtcclxuICAgIHByb2JhYmlsaXR5ID0gbmV3IE1hdGhQcm9iYWJpbGl0eShicmFja2V0ZWQuY29udGVudCk7XHJcbiAgICBwcm9iYWJpbGl0eS5zZXRFeHBvbmVudChicmFja2V0ZWQuZXhwb25lbnQpO1xyXG4gICAgcmV0dXJuIHByb2JhYmlsaXR5O1xyXG4gIH1cclxuXHJcbiAgYWRkQWxwaGFDaGFyVG9WYXJpYWJsZXMoYWxwaGFDaGFyKSB7XHJcbiAgICB0aGlzLnZhcmlhYmxlc1thbHBoYUNoYXJdID8gdGhpcy52YXJpYWJsZXNbYWxwaGFDaGFyXSsrIDogdGhpcy52YXJpYWJsZXNbYWxwaGFDaGFyXSA9IDE7XHJcbiAgfVxyXG5cclxuICBwYXJzZUNoYXIoKSB7XHJcbiAgICB0aGlzLmluZGV4Kys7XHJcbiAgICByZXR1cm4gdGhpcy5pbmRleCA8IHRoaXMuaW5wdXQubGVuZ3RoID8gdGhpcy5pbnB1dC5jaGFyQXQodGhpcy5pbmRleCkgOiBcIlxcXFxcXFxcXCI7XHJcbiAgfVxyXG5cclxuICBwYXJzZUlmQ2hhcihyZXF1aXJlZENoYXIpIHtcclxuICAgIHJldHVybiB0aGlzLmlucHV0LmNoYXJBdCh0aGlzLmluZGV4KSA9PT0gcmVxdWlyZWRDaGFyID8gdGhpcy5wYXJzZUNoYXIoKSA6IFwiXCI7XHJcbiAgfVxyXG5cclxuICBwYXJzZVNpZ24oKSB7XHJcbiAgICBsZXQgbmVnYXRpdmUgPSBmYWxzZTtcclxuICAgIHdoaWxlKHRoaXMuRXZhbHVhdG9yLmlzU2lnbih0aGlzLmdldENoYXIoKSkpIHtcclxuICAgICAgbmVnYXRpdmUgPSB0aGlzLmdldENoYXIoKSA9PT0gXCItXCIgPyAhbmVnYXRpdmUgOiBuZWdhdGl2ZTtcclxuICAgICAgdGhpcy5wYXJzZUNoYXIoKTtcclxuICAgIH1cclxuICAgIExvZ2NhbC5hcHBlbmQoXCJwYXJzZVNpZ24oKTogUkVUVVJOIG5lZ2F0aXZlIFwiICsgbmVnYXRpdmUpO1xyXG4gICAgcmV0dXJuIG5lZ2F0aXZlO1xyXG4gIH1cclxuXHJcbiAgcGFyc2VJZldoaXRlc3BhY2UoKSB7XHJcbiAgICB3aGlsZSAodGhpcy5FdmFsdWF0b3IuaXNXaGl0ZXNwYWNlKHRoaXMuaW5wdXQuY2hhckF0KHRoaXMuaW5kZXgpKSAmJiB0aGlzLmluZGV4IDwgdGhpcy5pbnB1dC5sZW5ndGgpIHtcclxuICAgICAgdGhpcy5pbmRleCsrO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXMuaW5wdXQuY2hhckF0KHRoaXMuaW5kZXgpO1xyXG4gIH1cclxuXHJcbiAgZ2V0TGFzdENoYXIoaW5kZXgpIHtcclxuICAgIHdoaWxlICh0aGlzLkV2YWx1YXRvci5pc1doaXRlc3BhY2UodGhpcy5pbnB1dC5jaGFyQXQoaW5kZXgpKSAmJiBpbmRleCA8IDApIHtcclxuICAgICAgaW5kZXgtLTtcclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzLmlucHV0LmNoYXJBdChpbmRleCk7XHJcbiAgfVxyXG5cclxuICBnZXRDaGFyKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuaW5kZXggPCB0aGlzLmlucHV0Lmxlbmd0aCA/IHRoaXMuaW5wdXQuY2hhckF0KHRoaXMuaW5kZXgpIDogXCJcXFxcXFxcXFwiO1xyXG4gIH1cclxuXHJcbiAgaXNOZXh0KGxhdGV4KSB7XHJcbiAgICByZXR1cm4gdGhpcy5pbnB1dC5sZW5ndGggPiAodGhpcy5pbmRleCArIGxhdGV4Lmxlbmd0aCArIDEpICYmIHRoaXMuaW5wdXQuc3Vic3RyaW5nKHRoaXMuaW5kZXggKyAxLCAodGhpcy5pbmRleCArIDEgKyBsYXRleC5sZW5ndGgpKSA9PT0gbGF0ZXg7XHJcbiAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIEZvcm11bGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5mb3JtdWxhcyA9IFtcclxuXHJcbiAgICBdO1xyXG4gIH1cclxuICBnZXRGb3JtdWxhQnlOYW1lKG5hbWUpIHtcclxuXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBuZXcgRm9ybXVsYXRvcigpO1xyXG4iLCIvKlxyXG4gKiBJZCBnZW5lcmF0b3IgZm9yIGNyZWF0aW5nIHVuaXF1ZSBpZHNcclxuICovXHJcbmV4cG9ydCBjbGFzcyBJZEdlbmVyYXRvciB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLm5leHRpZCA9IDA7XHJcbiAgfVxyXG4gIG5leHRJZCgpIHtcclxuICAgIHJldHVybiB0aGlzLm5leHRpZCsrO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgbmV3IElkR2VuZXJhdG9yKCk7XHJcbiIsImltcG9ydCBGb3JtdWxhdG9yIGZyb20gXCIuL0Zvcm11bGF0b3JcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBMb2dnZXIge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5sb2cgPSBbXTtcclxuICAgIHRoaXMubWVzc2FnZSA9IFwiXCI7XHJcbiAgICB0aGlzLmVxdWF0aW9uID0gbnVsbDtcclxuICB9XHJcbiAgc2V0RXF1YXRpb24oZXF1YXRpb24pIHtcclxuICAgIHRoaXMubG9nID0gW107XHJcbiAgICB0aGlzLm1lc3NhZ2UgPSBcIlwiO1xyXG4gICAgdGhpcy5lcXVhdGlvbiA9IGVxdWF0aW9uO1xyXG4gIH1cclxuICByZXNldExvZ3MoKSB7XHJcbiAgICB0aGlzLmxvZyA9IFtdO1xyXG4gICAgdGhpcy5tZXNzYWdlID0gXCJcIjtcclxuICB9XHJcbiAgc2V0TWVzc2FnZShtc2cpIHtcclxuICAgIHRoaXMubWVzc2FnZSA9IG1zZztcclxuICB9XHJcbiAgLy8gcHVzaFN0ZXBXaXRoTGF0ZXhcclxuICBjcmVhdGVMYXRleChuYW1lLCBsYXRleCkge1xyXG4gICAgdGhpcy5sb2cucHVzaCh7XHJcbiAgICAgIGxhdGV4LFxyXG4gICAgICBzdGVwTmFtZTogbmFtZSxcclxuICAgICAgZm9ybXVsYTogXCJcIixcclxuICAgIH0pO1xyXG4gIH1cclxuICAvLyBwdXNoU3RlcFxyXG4gIG5ld0xhdGV4KG5hbWUpIHtcclxuICAgIHRoaXMubG9nLnB1c2goe1xyXG4gICAgICBsYXRleDogdGhpcy5lcXVhdGlvbi50b0xhdGV4KCksXHJcbiAgICAgIHN0ZXBOYW1lOiBuYW1lLFxyXG4gICAgICBmb3JtdWxhOiBcIlwiLFxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIC8vIHB1c2hTdGVwV2l0aEZvcm11bGFcclxuICBuZXdMYXRleFdpdGhGb3JtdWxhKG5hbWUsIGZvcm11bGFOYW1lLCB2YXJpYXRpb24pIHtcclxuICAgIGNvbnN0IGZvcm11bGEgPSBGb3JtdWxhdG9yLmdldEZvcm11bGFCeU5hbWUoZm9ybXVsYU5hbWUpO1xyXG4gICAgaWYgKHR5cGVvZiBmb3JtdWxhID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgIG5hbWUgKz0gYFxcblVzaW5nIGZvcm11bGEgJCR7Zm9ybXVsYS52YXJpYXRpb25zW3ZhcmlhdGlvbl0ubGF0ZXh9JGA7XHJcbiAgICB9XHJcbiAgICB0aGlzLmxvZy5wdXNoKHtcclxuICAgICAgbGF0ZXg6IHRoaXMuZXF1YXRpb24udG9MYXRleCgpLFxyXG4gICAgICBzdGVwTmFtZTogbmFtZSxcclxuICAgICAgZm9ybXVsYSxcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgbmV3IExvZ2dlcigpO1xyXG4iLCJleHBvcnQgY2xhc3MgTG9nbW9uIHtcclxuICBjb25zdHJ1Y3Rvcih3aW5kb3dSZWYpIHtcclxuICAgIHRoaXMubG9nZ2VycyA9IFtdO1xyXG4gICAgdGhpcy53aW5kb3cgPSB3aW5kb3dSZWY7XHJcbiAgfVxyXG4gIGNyZWF0ZUxvZ2dlcihuYW1lKSB7XHJcbiAgICB0aGlzLmxvZ2dlcnMucHVzaChuZXcgTG9nZ2VyKG5hbWUpKTtcclxuICAgIHRoaXMud2luZG93W25hbWVdID0gdGhpcy5sb2dnZXJzW3RoaXMubG9nZ2Vycy5sZW5ndGggLSAxXTtcclxuICAgIHJldHVybiB0aGlzLmxvZ2dlcnNbdGhpcy5sb2dnZXJzLmxlbmd0aCAtIDFdO1xyXG4gIH1cclxuICBjcmVhdGVMb2dnZXJXaXRoT3B0aW9ucyhuYW1lLCB0ZXN0aW5nLCBjb25zb2xpbmcpIHtcclxuICAgIGNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIobmFtZSk7XHJcbiAgICBsb2dnZXIudGVzdGluZyA9IHRlc3Rpbmc7XHJcbiAgICBsb2dnZXIuY29uc29saW5nID0gY29uc29saW5nO1xyXG4gICAgdGhpcy5sb2dnZXJzLnB1c2gobG9nZ2VyKTtcclxuICAgIHRoaXMud2luZG93W25hbWVdID0gdGhpcy5sb2dnZXJzW3RoaXMubG9nZ2Vycy5sZW5ndGggLSAxXTtcclxuICAgIHJldHVybiB0aGlzLmxvZ2dlcnNbdGhpcy5sb2dnZXJzLmxlbmd0aCAtIDFdO1xyXG4gIH1cclxuICBnZXRMb2dnZXIobmFtZSkge1xyXG4gICAgZm9yIChjb25zdCBsb2dnZXIgb2YgdGhpcy5sb2dnZXJzKSB7XHJcbiAgICAgIGlmIChsb2dnZXIubmFtZSA9PT0gbmFtZSkge1xyXG4gICAgICAgIHJldHVybiBsb2dnZXI7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuICBzaG93KCkge1xyXG4gICAgdGhpcy5sb2dnZXJzLm1hcChsb2dnZXIgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZyhcIlwiLCBsb2dnZXIpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIGRpc2FibGVMb2dnZXJzKCkge1xyXG4gICAgdGhpcy5sb2dnZXJzLm1hcChsb2dnZXIgPT4ge1xyXG4gICAgICBsb2dnZXIudGVzdGluZyA9IGZhbHNlO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIGVuYWJsZUxvZ2dlcnMoKSB7XHJcbiAgICB0aGlzLmxvZ2dlcnMubWFwKGxvZ2dlciA9PiB7XHJcbiAgICAgIGxvZ2dlci50ZXN0aW5nID0gdHJ1ZTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIExvZ2dlciB7XHJcbiAgY29uc3RydWN0b3IobmFtZSkge1xyXG4gICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgIHRoaXMuc2l6ZSA9IDUwMDA7XHJcblxyXG4gICAgdGhpcy5sb2cgPSBbXTtcclxuICAgIHRoaXMuY3VycmVudEluZGVudCA9IFwiXCI7XHJcbiAgICB0aGlzLmluZGVudCA9IFwiLS0tIFwiO1xyXG5cclxuICAgIHRoaXMudGltZXIgPSB7fTtcclxuXHJcbiAgICB0aGlzLnRlc3RSdW5uaW5nID0gXCJcIjtcclxuICAgIHRoaXMudGVzdExldmVsID0gMDtcclxuICAgIHRoaXMudGVzdGluZyA9IHRydWU7XHJcbiAgICB0aGlzLmNvbnNvbGluZyA9IHRydWU7XHJcbiAgfVxyXG4gIHNldFRlc3RMZXZlbChsZXZlbCkge1xyXG4gICAgdGhpcy50ZXN0TGV2ZWwgPSBsZXZlbDtcclxuICB9XHJcbiAgdGVzdFJ1bih3aGF0KSB7XHJcbiAgICB0aGlzLnRlc3RSdW5uaW5nID0gd2hhdDtcclxuICB9XHJcbiAgcmVzZXRMb2dzKCkge1xyXG4gICAgdGhpcy5sb2cgPSBbXTtcclxuICAgIHRoaXMuY3VycmVudEluZGVudCA9IFwiXCI7XHJcbiAgfVxyXG4gIHRpbWVyU3RhcnQod2hlcmUpIHtcclxuICAgIGlmICh0aGlzLnRlc3RpbmcpIHtcclxuICAgICAgdGhpcy50aW1lclt3aGVyZV0gPSBwZXJmb3JtYW5jZS5ub3coKTtcclxuICAgIH1cclxuICB9XHJcbiAgdGltZXJFbmQod2hlcmUpIHtcclxuICAgIGlmICh0aGlzLnRlc3RpbmcpIHtcclxuICAgICAgY29uc3QgdGltZWQgPSBwZXJmb3JtYW5jZS5ub3coKSAtIHRoaXMudGltZXJbd2hlcmVdO1xyXG4gICAgICBpZiAodGhpcy5jb25zb2xpbmcpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmN1cnJlbnRJbmRlbnQgKyB3aGVyZSArIFwiIGRvbmUgaW4gdGltZSBcIiArIHRpbWVkICsgXCJtc1wiKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICBhcHBlbmQoc3RyaW5nKSB7XHJcbiAgICBpZiAodGhpcy50ZXN0aW5nKSB7XHJcbiAgICAgIGNvbnN0IGxvZ2dlZCA9IHRoaXMuY3VycmVudEluZGVudCArIHN0cmluZztcclxuICAgICAgaWYgKHRoaXMuY29uc29saW5nKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2cobG9nZ2VkKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAodGhpcy5sb2cubGVuZ3RoID09PSB0aGlzLnNpemUpIHtcclxuICAgICAgICB0aGlzLmxvZy5zcGxpY2UoMCwgMSk7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5sb2cucHVzaChsb2dnZWQpO1xyXG4gICAgfVxyXG4gIH1cclxuICBzdGFydChzdHJpbmcpIHtcclxuICAgIGlmICh0aGlzLnRlc3RpbmcgfHwgdGhpcy50ZXN0UnVubmluZy5sZW5ndGggIT09IDApIHtcclxuICAgICAgdmFyIGFzU3RyaW5nID0gXCJcIjtcclxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBhc1N0cmluZyArPSBhcmd1bWVudHNbaV0udG9TdHJpbmcoKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoIXRoaXMudGVzdGluZyAmJiB0aGlzLnRlc3RSdW5uaW5nLmxlbmd0aCAhPT0gMCkge1xyXG4gICAgICAgIGlmIChzdHJpbmcuaW5kZXhPZih0aGlzLnRlc3RSdW5uaW5nKSAhPT0gLTEpIHtcclxuICAgICAgICAgIHRoaXMudGVzdGluZyA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgdmFyIGxvZ2dlZCA9IHRoaXMuY3VycmVudEluZGVudCArIHN0cmluZztcclxuICAgICAgaWYgKHRoaXMuY29uc29saW5nKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2cobG9nZ2VkKTtcclxuICAgICAgLy8gY29uc29sZS5sb2coXCJhcmd1bWVudHMgc2l6ZSBcIiArIGFyZ3VtZW50cy5sZW5ndGgpO1xyXG4gICAgICAvLyBjb25zb2xlLmxvZyhhcmd1bWVudHMpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICh0aGlzLmxvZy5sZW5ndGggPT09IHRoaXMuc2l6ZSkge1xyXG4gICAgICAgIHRoaXMubG9nLnNwbGljZSgwLCAxKTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLmxvZy5wdXNoKGxvZ2dlZCk7XHJcbiAgICAgIHRoaXMuY3VycmVudEluZGVudCArPSB0aGlzLmluZGVudDtcclxuICAgIH1cclxuICB9XHJcbiAgZW5kKHN0cmluZykge1xyXG4gICAgaWYgKHRoaXMudGVzdGluZykge1xyXG4gICAgICBpZiAodGhpcy50ZXN0UnVubmluZy5sZW5ndGggIT09IDApIHtcclxuICAgICAgICBpZiAoc3RyaW5nLmluZGV4T2YodGhpcy50ZXN0UnVubmluZykgIT09IC0xKSB7XHJcbiAgICAgICAgICB0aGlzLnRlc3RpbmcgPSBmYWxzZTtcclxuICAgICAgICAgIHRoaXMudGVzdFJ1bm5pbmcgPSBcIlwiO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICB0aGlzLmN1cnJlbnRJbmRlbnQgPSB0aGlzLmN1cnJlbnRJbmRlbnQuc3Vic3RyaW5nKDAsIHRoaXMuY3VycmVudEluZGVudC5sZW5ndGggLSB0aGlzLmluZGVudC5sZW5ndGgpO1xyXG4gICAgICB2YXIgbG9nZ2VkID0gdGhpcy5jdXJyZW50SW5kZW50ICsgc3RyaW5nO1xyXG4gICAgICBpZiAodGhpcy5jb25zb2xpbmcpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhsb2dnZWQpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICh0aGlzLmxvZy5sZW5ndGggPT09IHRoaXMuc2l6ZSkge1xyXG4gICAgICAgIHRoaXMubG9nLnNwbGljZSgwLCAxKTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLmxvZy5wdXNoKGxvZ2dlZCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHRyYWNlKCkge1xyXG4gICAgY29uc29sZS5sb2codGhpcy5sb2cuam9pbihcIlxcblwiKSk7XHJcbiAgICBjb25zb2xlLmxvZyhcIi0tLSBUUkFDRUxPRyhcIiArIHRoaXMubmFtZSArIFwiKSBzaXplOiBcIiArIHRoaXMubG9nLmxlbmd0aCArIFwiIC0tLVwiKTtcclxuICB9XHJcbn1cclxuXHJcbmxldCBtb2NrV2luZG93ID0ge307XHJcbmxldCBsb2dtb24gPSBuZXcgTG9nbW9uKG1vY2tXaW5kb3cpO1xyXG5sb2dtb24uY3JlYXRlTG9nZ2VyV2l0aE9wdGlvbnMoXCJMb2dkZWZcIiwgZmFsc2UsIHRydWUpO1xyXG5sb2dtb24uY3JlYXRlTG9nZ2VyV2l0aE9wdGlvbnMoXCJMb2djYWxcIiwgdHJ1ZSwgdHJ1ZSk7XHJcbmV4cG9ydCBkZWZhdWx0IGxvZ21vbjtcclxuIl19\n"],"sourceRoot":"/source/"}