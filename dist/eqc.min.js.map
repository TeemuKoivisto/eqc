{"version":3,"sources":["eqc.min.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","_interopRequireDefault","obj","__esModule","default","_LatexParser","_LatexParser2","_Logmon","eqc","Parser","addToWindow","windowInstance","console","log","window","./parsing/LatexParser","./utility_services/Logmon",2,"_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","_IdGenerator","_IdGenerator2","MathObject","type","this","id","nextId","order","minussign","reduced","exponent","parent","name","depth","variable","../utility_services/IdGenerator",3,"_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","_MathObject2","_MathObject3","MathBracketed","_MathObject","getPrototypeOf","apply","arguments","../MathObject",4,"MathEquation","_this","leftside","rightside","latex","latexSide","side","toLatex","string","stringSide","toString",5,"MathOperation","factorone","factortwo","firstfactor","operation","secondfactor","isfraction",6,"MathTerm","val","getValue","containsExponent","isBracketed","toLatexWithoutBrackets",7,"MathBinomial",8,"MathFactorial",9,10,"Evaluator","inputChar","test","signed","c","lastchar","list","component",11,"_Logmon2","_Evaluator","_Evaluator2","_Logger","_Logger2","_MathEquation","_MathEquation2","_MathTerm","_MathTerm2","_MathOperation","_MathBracketed","_MathProbability","_MathBinomial","_MathFactorial","_MathFactorial2","Logcal","getLogger","LatexParser","input","index","status","bad","resetLogs","start","setInput","equation","parseToChar","append","end","exitingChar","lastChar","currentChar","negative","getLastChar","charAt","isParsableComponent","parseNextComponent","switchSign","push","isConjoinedMultiplication","createMultiplicationFromList","parseChar","parseSign","parseIfExponent","setExponent","currentlyParsed","parseIfWhitespace","checkIfNextIs","parseProbability","parseTerm","isTerm","parseCommand","splice","term","lower","factorial","isNumeric","isAlpha","addAlphaCharToVariables","MathSymbol","parseFloat","parseIfChar","parseCurlyBracketed","reduceAndReturnIfPossible","alphaChar","variables","requiredChar","isWhitespace","../math-components/basic/MathBracketed","../math-components/basic/MathEquation","../math-components/basic/MathOperation","../math-components/basic/MathTerm","../math-components/probability/MathBinomial","../math-components/probability/MathFactorial","../math-components/probability/MathProbability","../utility_services/Logger","../utility_services/Logmon","./Evaluator",12,"Formulator","formulas",13,"IdGenerator","nextid",14,"Logger","undefined","_typeof","Symbol","iterator","_Formulator","_Formulator2","message","msg","stepName","formula","formulaName","variation","getFormulaByName","variations","./Formulator",15,"Logmon","windowRef","loggers","testing","consoling","logger","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","next","done","err","map","size","currentIndent","indent","timer","testRunning","testLevel","level","what","where","performance","now","timed","logged","asString","indexOf","substring","join","mockWindow","logmon","createLoggerWithOptions"],"mappings":"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","file":"eqc.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\"use strict\";\n\nvar _LatexParser = require(\"./parsing/LatexParser\");\n\nvar _LatexParser2 = _interopRequireDefault(_LatexParser);\n\nvar _Logmon = require(\"./utility_services/Logmon\");\n\nvar _Logmon2 = _interopRequireDefault(_Logmon);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Logmon.createLoggerWithOptions(\"Logcal\", true, true);\n\n// let eqc = {\n//   Calculator: {\n\n//   },\n//   MathComponents: {\n//     Basic: {\n//       MathTerm,\n//       MathOperation,\n//     },\n//     MathObject,\n//   },\n//   Parsing: {\n//     LatexParser,\n//   },\n//   UtilityServices: {\n//     IDG,\n//     Orderer,\n//     Penis: \"afhh\",\n//   }\n// };\n\n// import MathObject from \"./math-components/MathObject\";\n// import MathTerm from \"./math-components/basic/MathTerm\";\n// import MathOperation from \"./math-components/basic/MathOperation\";\n\nvar eqc = {\n  Parser: new _LatexParser2.default()\n};\n\n// import IDG from \"./utility_services/IdGenerator\";\n// import Orderer from \"./utility_services/Orderer\";\n\n/*\r\n * Instance of Logmon used for logging\r\n * And logging is needed, trust me\r\n */\n\nvar addToWindow = function addToWindow(windowInstance) {\n  if (windowInstance) {\n    console.log(\"wee window\");\n    window.eqc = eqc;\n  }\n};\n\naddToWindow(window);\nmodule.exports = eqc;\n\n},{\"./parsing/LatexParser\":11,\"./utility_services/Logmon\":15}],2:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _IdGenerator = require(\"../utility_services/IdGenerator\");\n\nvar _IdGenerator2 = _interopRequireDefault(_IdGenerator);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar MathObject = function () {\n  function MathObject(type) {\n    _classCallCheck(this, MathObject);\n\n    this.type = type;\n    this.id = _IdGenerator2.default.nextId();\n    this.order = -1;\n    this.minussign = false;\n    this.reduced = false;\n    this.exponent = \"\";\n    this.parent = null;\n  }\n\n  _createClass(MathObject, [{\n    key: \"setType\",\n    value: function setType(name) {\n      this.type = name;\n    }\n  }, {\n    key: \"containsExponent\",\n    value: function containsExponent() {\n      return this.exponent && this.exponent.length !== 0;\n    }\n    /*\r\n     * Below all the methods to be overridden\r\n     */\n\n  }, {\n    key: \"setOrder\",\n    value: function setOrder(depth) {\n      throw new TypeError(this.type + \" must override method setOrder\");\n    }\n  }, {\n    key: \"setExponent\",\n    value: function setExponent(exponent) {\n      throw new TypeError(this.type + \" must override method setExponent\");\n    }\n  }, {\n    key: \"returnContentList\",\n    value: function returnContentList() {\n      throw new TypeError(this.type + \" must override method returnContentList\");\n    }\n  }, {\n    key: \"switchSign\",\n    value: function switchSign() {\n      throw new TypeError(this.type + \" must override method switchSign\");\n    }\n  }, {\n    key: \"isEqual\",\n    value: function isEqual() {\n      throw new TypeError(this.type + \" must override method isEqual\");\n    }\n  }, {\n    key: \"isTerm\",\n    value: function isTerm() {\n      throw new TypeError(this.type + \" must override method isTerm\");\n    }\n  }, {\n    key: \"isOperation\",\n    value: function isOperation() {\n      throw new TypeError(this.type + \" must override method isOperation\");\n    }\n  }, {\n    key: \"isBracketed\",\n    value: function isBracketed() {\n      throw new TypeError(this.type + \" must override method isBracketed\");\n    }\n  }, {\n    key: \"isSpecial\",\n    value: function isSpecial() {\n      throw new TypeError(this.type + \" must override method isSpecial\");\n    }\n  }, {\n    key: \"isEmpty\",\n    value: function isEmpty() {\n      throw new TypeError(this.type + \" must override method isEmpty\");\n    }\n  }, {\n    key: \"includesVariable\",\n    value: function includesVariable(variable) {\n      throw new TypeError(this.type + \" must override method includesVariable\");\n    }\n  }, {\n    key: \"toLatex\",\n    value: function toLatex() {\n      throw new TypeError(this.type + \" must override method toLatex\");\n    }\n  }]);\n\n  return MathObject;\n}();\n\nexports.default = MathObject;\n\n},{\"../utility_services/IdGenerator\":13}],3:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _MathObject2 = require(\"../MathObject\");\n\nvar _MathObject3 = _interopRequireDefault(_MathObject2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar MathBracketed = function (_MathObject) {\n  _inherits(MathBracketed, _MathObject);\n\n  function MathBracketed() {\n    _classCallCheck(this, MathBracketed);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(MathBracketed).apply(this, arguments));\n  }\n\n  return MathBracketed;\n}(_MathObject3.default);\n\nexports.default = MathBracketed;\n\n},{\"../MathObject\":2}],4:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _MathObject2 = require(\"../MathObject\");\n\nvar _MathObject3 = _interopRequireDefault(_MathObject2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar MathEquation = function (_MathObject) {\n  _inherits(MathEquation, _MathObject);\n\n  function MathEquation() {\n    _classCallCheck(this, MathEquation);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(MathEquation).call(this, \"Equation\"));\n\n    _this.leftside = [];\n    _this.rightside = [];\n    return _this;\n  }\n\n  _createClass(MathEquation, [{\n    key: \"toLatex\",\n    value: function toLatex() {\n      var latex = \"\";\n      var latexSide = function latexSide(side) {\n        for (var i = 0; i < side.length; i++) {\n          if (side[i].minussign) {\n            latex += side[i].toLatex();\n          } else {\n            if (i !== 0) {\n              latex += \"+\";\n            }\n            latex += side[i].toLatex();\n          }\n        }\n      };\n      latexSide(this.leftside);\n      latex += \"=\";\n      latexSide(this.rightside);\n      return latex;\n    }\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      var string = \"\";\n      var stringSide = function stringSide(side) {\n        for (var i = 0; i < side.length; i++) {\n          if (!side[i].minussign && i !== 0) {\n            string += \"+\";\n          }\n          string += side[i].toString();\n        }\n      };\n      stringSide(this.leftside);\n      string += \" = \";\n      stringSide(this.rightside);\n      return string;\n    }\n  }]);\n\n  return MathEquation;\n}(_MathObject3.default);\n\nexports.default = MathEquation;\n\n},{\"../MathObject\":2}],5:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _MathObject2 = require(\"../MathObject\");\n\nvar _MathObject3 = _interopRequireDefault(_MathObject2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar MathOperation = function (_MathObject) {\n  _inherits(MathOperation, _MathObject);\n\n  function MathOperation(factorone, type, factortwo) {\n    _classCallCheck(this, MathOperation);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(MathOperation).call(this, \"Operation\"));\n\n    _this.firstfactor = factorone;\n    _this.operation = type === \"(\" ? \"*\" : type;\n    _this.secondfactor = factortwo;\n\n    _this.isfraction = _this.operation === \"/\";\n    return _this;\n  }\n\n  return MathOperation;\n}(_MathObject3.default);\n\nexports.default = MathOperation;\n\n},{\"../MathObject\":2}],6:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _MathObject2 = require(\"../MathObject\");\n\nvar _MathObject3 = _interopRequireDefault(_MathObject2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar MathTerm = function (_MathObject) {\n  _inherits(MathTerm, _MathObject);\n\n  function MathTerm(variable, value, exponent) {\n    _classCallCheck(this, MathTerm);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(MathTerm).call(this, \"Term\"));\n\n    _this.variable = variable;\n    _this.value = value;\n    // this.value = new Big(value);\n    _this.exponent = exponent;\n    return _this;\n  }\n\n  _createClass(MathTerm, [{\n    key: \"getValue\",\n    value: function getValue() {\n      return this.value;\n      // return parseFloat(this.value.toString());\n    }\n  }, {\n    key: \"toLatex\",\n    value: function toLatex() {\n      var latex = \"\";\n      var val = this.getValue();\n      if (!this.variable) {\n        latex += val;\n      } else if (val === 1 && this.variable) {\n        latex += this.variable;\n      } else if (val === -1 && this.variable) {\n        latex += \"-\" + this.variable;\n      } else {\n        latex += val + this.variable;\n      }\n      if (this.containsExponent()) {\n        latex += \"^{\";\n        if (this.exponent.isBracketed()) {\n          latex += this.exponent.toLatexWithoutBrackets();\n        } else {\n          latex += this.exponent.toLatex();\n        }\n        latex += \"}\";\n      }\n      return latex;\n    }\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      var latex = \"\";\n      var val = this.getValue();\n      if (!this.variable) {\n        latex += val;\n      } else if (val === 1 && this.variable) {\n        latex += this.variable;\n      } else if (val === -1 && this.variable) {\n        latex += \"-\" + this.variable;\n      } else {\n        latex += val + this.variable;\n      }\n      if (this.containsExponent()) {\n        latex += \"^{\";\n        if (this.exponent.isBracketed()) {\n          latex += this.exponent.toString();\n        } else {\n          latex += this.exponent.toString();\n        }\n        latex += \"}\";\n      }\n      return latex;\n    }\n  }]);\n\n  return MathTerm;\n}(_MathObject3.default);\n\nexports.default = MathTerm;\n\n},{\"../MathObject\":2}],7:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _MathObject2 = require(\"../MathObject\");\n\nvar _MathObject3 = _interopRequireDefault(_MathObject2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar MathBinomial = function (_MathObject) {\n  _inherits(MathBinomial, _MathObject);\n\n  function MathBinomial() {\n    _classCallCheck(this, MathBinomial);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(MathBinomial).apply(this, arguments));\n  }\n\n  return MathBinomial;\n}(_MathObject3.default);\n\nexports.default = MathBinomial;\n\n},{\"../MathObject\":2}],8:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _MathObject2 = require(\"../MathObject\");\n\nvar _MathObject3 = _interopRequireDefault(_MathObject2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar MathFactorial = function (_MathObject) {\n  _inherits(MathFactorial, _MathObject);\n\n  function MathFactorial() {\n    _classCallCheck(this, MathFactorial);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(MathFactorial).apply(this, arguments));\n  }\n\n  return MathFactorial;\n}(_MathObject3.default);\n\nexports.default = MathFactorial;\n\n},{\"../MathObject\":2}],9:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _MathObject2 = require(\"../MathObject\");\n\nvar _MathObject3 = _interopRequireDefault(_MathObject2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar MathBinomial = function (_MathObject) {\n  _inherits(MathBinomial, _MathObject);\n\n  function MathBinomial() {\n    _classCallCheck(this, MathBinomial);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(MathBinomial).apply(this, arguments));\n  }\n\n  return MathBinomial;\n}(_MathObject3.default);\n\nexports.default = MathBinomial;\n\n},{\"../MathObject\":2}],10:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Evaluator = function () {\n  function Evaluator() {\n    _classCallCheck(this, Evaluator);\n  }\n\n  _createClass(Evaluator, [{\n    key: \"isTerm\",\n    value: function isTerm(inputChar) {\n      return inputChar >= \"0\" && inputChar <= \"9\" || /^[a-zA-Z]*$/.test(inputChar);\n    }\n  }, {\n    key: \"isNumeric\",\n    value: function isNumeric(inputChar) {\n      return inputChar >= \"0\" && inputChar <= \"9\" || inputChar === \".\";\n    }\n  }, {\n    key: \"isAlpha\",\n    value: function isAlpha(inputChar) {\n      return (/^[a-zA-Z]*$/.test(inputChar)\n      );\n    }\n  }, {\n    key: \"isWhitespace\",\n    value: function isWhitespace(inputChar) {\n      return inputChar === \" \" || inputChar === \"\\t\" || inputChar === \"\\n\";\n    }\n  }, {\n    key: \"isParsableComponent\",\n    value: function isParsableComponent(inputChar) {\n      return inputChar >= \"0\" && inputChar <= \"9\" || /^[a-zA-Z]*$/.test(inputChar) || inputChar === \"\\\\\";\n    }\n  }, {\n    key: \"isConjoinedMultiplication\",\n    value: function isConjoinedMultiplication(signed, c, lastchar, list, component) {\n      return !signed && c !== \"\\\\\" && lastchar !== \"=\" && list.length > 1 && list[list.length - 2].type !== \"Symbol\" && component.type !== \"Symbol\";\n    }\n  }]);\n\n  return Evaluator;\n}();\n\nexports.default = Evaluator;\n\n},{}],11:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Logmon = require(\"../utility_services/Logmon\");\n\nvar _Logmon2 = _interopRequireDefault(_Logmon);\n\nvar _Evaluator = require(\"./Evaluator\");\n\nvar _Evaluator2 = _interopRequireDefault(_Evaluator);\n\nvar _Logger = require(\"../utility_services/Logger\");\n\nvar _Logger2 = _interopRequireDefault(_Logger);\n\nvar _MathEquation = require(\"../math-components/basic/MathEquation\");\n\nvar _MathEquation2 = _interopRequireDefault(_MathEquation);\n\nvar _MathTerm = require(\"../math-components/basic/MathTerm\");\n\nvar _MathTerm2 = _interopRequireDefault(_MathTerm);\n\nvar _MathOperation = require(\"../math-components/basic/MathOperation\");\n\nvar _MathOperation2 = _interopRequireDefault(_MathOperation);\n\nvar _MathBracketed = require(\"../math-components/basic/MathBracketed\");\n\nvar _MathBracketed2 = _interopRequireDefault(_MathBracketed);\n\nvar _MathProbability = require(\"../math-components/probability/MathProbability\");\n\nvar _MathProbability2 = _interopRequireDefault(_MathProbability);\n\nvar _MathBinomial = require(\"../math-components/probability/MathBinomial\");\n\nvar _MathBinomial2 = _interopRequireDefault(_MathBinomial);\n\nvar _MathFactorial = require(\"../math-components/probability/MathFactorial\");\n\nvar _MathFactorial2 = _interopRequireDefault(_MathFactorial);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Logcal = _Logmon2.default.getLogger(\"Logcal\");\n\nvar LatexParser = function () {\n  function LatexParser() {\n    _classCallCheck(this, LatexParser);\n\n    this.Evaluator = new _Evaluator2.default();\n    this.input = \"\";\n    this.index = 0;\n    this.status = \"\";\n    this.bad = 0;\n  }\n\n  _createClass(LatexParser, [{\n    key: \"setInput\",\n    value: function setInput(latex) {\n      this.input = latex;\n      this.index = 0;\n      this.status = \"\";\n      this.bad = 0;\n      _Logger2.default.resetLogs();\n    }\n  }, {\n    key: \"parseEquation\",\n    value: function parseEquation(latex) {\n      Logcal.start(\"LatexParser parseEquation(latex): \" + latex);\n      // Logcal.timerStart(\"LatexParser parseEquation\");\n\n      this.setInput(latex);\n      var equation = new _MathEquation2.default();\n      try {\n        equation.leftside = this.parseToChar(\"=\");\n        equation.rightside = this.parseToChar(\"\\\\\\\\\");\n      } catch (e) {\n        console.log(\"LatexParser errored!\", e);\n        this.status = \"Parser error\";\n      }\n\n      // Logcal.timerEnd(\"LatexParser parseEquation\");\n      Logcal.append(\"equation(latex) \" + equation.toLatex());\n      Logcal.end(\"FROM LatexParser parseEquation: RETURN equation \" + equation.toLatex());\n      return equation;\n    }\n  }, {\n    key: \"parseToChar\",\n    value: function parseToChar(exitingChar) {\n      Logcal.start(\"parseToChar(exitingChar): \" + exitingChar);\n      var list = [],\n          lastChar = \"\",\n          currentChar = \"\",\n          negative = false,\n          signed = false,\n          component = null;\n\n      while (this.index < this.input.length) {\n        if (this.bad === 10) return list;\n        lastChar = this.getLastChar(this.index);\n        currentChar = this.input.charAt(this.index);\n\n        console.log(currentChar);\n\n        if (this.Evaluator.isParsableComponent(currentChar)) {\n          component = this.parseNextComponent(list, signed);\n          if (component) {\n            if (negative) {\n              component.switchSign();\n            }\n            list.push(component);\n            // checks for if current component was command > no multiplication as is it handled\n            // also for not self/previous component being Symbol if inside probability\n            if (this.Evaluator.isConjoinedMultiplication(signed, currentChar, lastChar, list, component)) {\n              Logcal.append(\"isConjoinedMultiplication === TRUE\");\n              Logcal.append(\">CreateMultiplactionFromList(list) list \" + list);\n              this.createMultiplicationFromList(list);\n            }\n            negative = false;\n            signed = false;\n          }\n        } else if (currentChar === exitingChar) {\n          if (this.index !== this.input.length - 1) {\n            this.parseChar();\n          }\n          Logcal.end(\"FROM parseToChar: exitingchar \" + exitingChar + \" RETURN list \" + list);\n          return list;\n        } else if (currentChar === \"-\" || currentChar === \"+\") {\n          signed = true;\n          negative = this.parseSign();\n        } else if (currentChar === \"^\") {\n          component = this.parseIfExponent();\n          if (component) {\n            list[list.length - 1].setExponent(exponent);\n          }\n          // negative = false; // how could these even be possible??\n          // signed = false;\n        } else if (currentChar === \"_\") {\n            console.log(\"underscore _ inputted inside parseToChar and it's not implemented.. :/\");\n            this.index++;\n          } else if (currentChar === \"!\") {\n            // factorials aren't consumed in parseBracketed?..\n            this.index++;\n          } else if (currentChar === \"}\" || currentChar === \")\") {\n            // do nutting, just consume the char?\n            this.index++;\n          } else {\n            this.bad++;\n            this.index++;\n            if (this.bad === 10) {\n              console.log(\"too many bad characters \" + this.currentlyParsed());\n              this.status = \"Bad input\";\n              Logcal.end(\"FROM parseToChar: exitingChar \" + exitingChar + \" RETURN list \" + list);\n              throw new Error(\"Bad input\");\n            }\n            negative = false;\n            signed = false;\n          }\n      }\n      Logcal.end(\"FROM parseToChar: exitingChar \" + exitingChar + \" RETURN list \" + list);\n      return list;\n    }\n  }, {\n    key: \"parseNextComponent\",\n    value: function parseNextComponent(list, signed) {\n      Logcal.start(\"parseNextComponent(list, signed): \" + list + \", \" + signed);\n      var component = null,\n          currentChar = this.parseIfWhitespace();\n\n      // this.parseIfWhitespace();\n      // currentChar = this.input.charAt(this.index);\n\n      if (currentChar === \"P\") {\n        currentChar = this.checkIfNextIs(\"\\\\left(\");\n        if (currentChar) {\n          component = this.parseProbability();\n        } else {\n          component = this.parseTerm();\n        }\n      } else if (this.Evaluator.isTerm(currentChar)) {\n        component = this.parseTerm();\n      } else if (currentChar === \"\\\\\") {\n        this.parseCommand(list, signed);\n        component = list.splice(list.length - 1, 1)[0];\n        // component = list[list.length-1];\n      } else {\n          console.log(\"Unknown currentChar(\" + currentChar + \") in parseNextComponent\");\n          Logcal.end(\"FROM parseNextComponent: RETURN component \" + component);\n          throw new Error(\"Unknown currentChar(\" + currentChar + \") in parseNextComponent\");\n          // return component;\n        }\n      Logcal.end(\"FROM parseNextComponent(list, signed): RETURN component \" + component);\n      return component;\n    }\n  }, {\n    key: \"parseTerm\",\n    value: function parseTerm() {\n      Logcal.start(\"parseTerm():\");\n      var value = \"\",\n          variable = \"\",\n          term = void 0,\n          exponent = void 0,\n          lower = \"\",\n          currentChar = this.input.charAt(this.index),\n          factorial = false;\n\n      while (this.Evaluator.isNumeric(currentChar)) {\n        value += currentChar;\n        currentChar = this.parseChar();\n      }\n      while (this.Evaluator.isAlpha(currentChar)) {\n        variable += currentChar;\n        // maybe add crazy functionality for xx notation which is x^2\n        this.addAlphaCharToVariables(currentChar);\n        currentChar = this.parseChar();\n      }\n      if (currentChar === \"!\") {\n        // factorial\n        factorial = true;\n        currentChar = this.parseChar();\n      }\n      if (currentChar === \"_\") {\n        // has a underscore notation\n        currentChar = this.parseChar();\n        if (currentChar === \"{\") {\n          lower = this.parseToChar(\"}\");\n        } else {\n          // only one component which is term???\n          lower = this.parseTerm();\n        }\n      }\n      currentChar = this.input.charAt(this.index); // or parseChar??\n      exponent = this.parseIfExponent();\n      if (currentChar === \"'\") {\n        Logcal.append(\"Transforming Term into complement\");\n        c = this.parseChar();\n        exponent = new MathSymbol(\"mathsf{c}\");\n      }\n      value = value.length === 0 ? 1 : parseFloat(value);\n      term = new _MathTerm2.default(variable, value, exponent);\n      if (factorial) {\n        Logcal.append(\"Whops 'Term' was actually factorial\");\n        term = new _MathFactorial2.default(term);\n      }\n      Logcal.end(\"FROM parseTerm(): RETURN term \" + term);\n      return term;\n    }\n  }, {\n    key: \"parseIfExponent\",\n    value: function parseIfExponent() {\n      Logcal.start(\"parseIfExponent():\");\n      var currentChar = this.parseIfChar(\"^\");\n      var exponent = \"\";\n      if (currentChar) {\n        if (currentChar === \"{\") {\n          var list = [];\n          this.parseCurlyBracketed(list);\n          exponent = list[0].reduceAndReturnIfPossible();\n        } else {\n          exponent = this.parseTerm();\n        }\n      }\n      Logcal.end(\"FROM parseIfExponent(): RETURN exponent \" + exponent);\n      return exponent;\n    }\n  }, {\n    key: \"addAlphaCharToVariables\",\n    value: function addAlphaCharToVariables(alphaChar) {\n      this.variables[alphaChar] ? this.variables[alphaChar]++ : this.variables[alphaChar] = 1;\n    }\n  }, {\n    key: \"parseChar\",\n    value: function parseChar() {\n      this.index++;\n      return this.index < this.input.length ? this.input.charAt(this.index) : \"\\\\\\\\\";\n    }\n  }, {\n    key: \"parseIfChar\",\n    value: function parseIfChar(requiredChar) {\n      return this.input.charAt(this.index) === requiredChar ? this.parseChar() : \"\";\n    }\n  }, {\n    key: \"parseSign\",\n    value: function parseSign() {\n      var negative = false;\n      if (/^[\\-]|[\\+]/.test(this.getLastChar(this.index))) {\n        negative = this.getLastChar(this.index) === \"-\" ? !negative : negative;\n        this.parseChar();\n      }\n      Logcal.append(\"parseSign(): RETURN negative \" + negative);\n      return negative;\n    }\n  }, {\n    key: \"parseIfWhitespace\",\n    value: function parseIfWhitespace() {\n      while (this.Evaluator.isWhitespace(this.input.charAt(this.index)) && this.index < this.input.length) {\n        this.index++;\n      }\n      return this.input.charAt(this.index);\n    }\n  }, {\n    key: \"getLastChar\",\n    value: function getLastChar(index) {\n      while (this.Evaluator.isWhitespace(this.input.charAt(index)) && index < 0) {\n        index--;\n      }\n      return this.input.charAt(index);\n    }\n  }]);\n\n  return LatexParser;\n}();\n\nexports.default = LatexParser;\n\n},{\"../math-components/basic/MathBracketed\":3,\"../math-components/basic/MathEquation\":4,\"../math-components/basic/MathOperation\":5,\"../math-components/basic/MathTerm\":6,\"../math-components/probability/MathBinomial\":7,\"../math-components/probability/MathFactorial\":8,\"../math-components/probability/MathProbability\":9,\"../utility_services/Logger\":14,\"../utility_services/Logmon\":15,\"./Evaluator\":10}],12:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Formulator = exports.Formulator = function () {\n  function Formulator() {\n    _classCallCheck(this, Formulator);\n\n    this.formulas = [];\n  }\n\n  _createClass(Formulator, [{\n    key: \"getFormulaByName\",\n    value: function getFormulaByName(name) {}\n  }]);\n\n  return Formulator;\n}();\n\nexports.default = new Formulator();\n\n},{}],13:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*\r\n * Id generator for creating unique ids\r\n */\n\nvar IdGenerator = exports.IdGenerator = function () {\n  function IdGenerator() {\n    _classCallCheck(this, IdGenerator);\n\n    this.nextid = 0;\n  }\n\n  _createClass(IdGenerator, [{\n    key: \"nextId\",\n    value: function nextId() {\n      return this.nextid++;\n    }\n  }]);\n\n  return IdGenerator;\n}();\n\nexports.default = new IdGenerator();\n\n},{}],14:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Logger = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Formulator = require(\"./Formulator\");\n\nvar _Formulator2 = _interopRequireDefault(_Formulator);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Logger = exports.Logger = function () {\n  function Logger() {\n    _classCallCheck(this, Logger);\n\n    this.log = [];\n    this.message = \"\";\n    this.equation = null;\n  }\n\n  _createClass(Logger, [{\n    key: \"setEquation\",\n    value: function setEquation(equation) {\n      this.log = [];\n      this.message = \"\";\n      this.equation = equation;\n    }\n  }, {\n    key: \"resetLogs\",\n    value: function resetLogs() {\n      this.log = [];\n      this.message = \"\";\n    }\n  }, {\n    key: \"setMessage\",\n    value: function setMessage(msg) {\n      this.message = msg;\n    }\n    // pushStepWithLatex\n\n  }, {\n    key: \"createLatex\",\n    value: function createLatex(name, latex) {\n      this.log.push({\n        latex: latex,\n        stepName: name,\n        formula: \"\"\n      });\n    }\n    // pushStep\n\n  }, {\n    key: \"newLatex\",\n    value: function newLatex(name) {\n      this.log.push({\n        latex: this.equation.toLatex(),\n        stepName: name,\n        formula: \"\"\n      });\n    }\n    // pushStepWithFormula\n\n  }, {\n    key: \"newLatexWithFormula\",\n    value: function newLatexWithFormula(name, formulaName, variation) {\n      var formula = _Formulator2.default.getFormulaByName(formulaName);\n      if ((typeof formula === \"undefined\" ? \"undefined\" : _typeof(formula)) === \"object\") {\n        name += \"\\nUsing formula $\" + formula.variations[variation].latex + \"$\";\n      }\n      this.log.push({\n        latex: this.equation.toLatex(),\n        stepName: name,\n        formula: formula\n      });\n    }\n  }]);\n\n  return Logger;\n}();\n\nexports.default = new Logger();\n\n},{\"./Formulator\":12}],15:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Logmon = exports.Logmon = function () {\n  function Logmon(windowRef) {\n    _classCallCheck(this, Logmon);\n\n    this.loggers = [];\n    this.window = windowRef;\n  }\n\n  _createClass(Logmon, [{\n    key: \"createLogger\",\n    value: function createLogger(name) {\n      this.loggers.push(new Logger(name));\n      this.window[name] = this.loggers[this.loggers.length - 1];\n      return this.loggers[this.loggers.length - 1];\n    }\n  }, {\n    key: \"createLoggerWithOptions\",\n    value: function createLoggerWithOptions(name, testing, consoling) {\n      var logger = new Logger(name);\n      logger.testing = testing;\n      logger.consoling = consoling;\n      this.loggers.push(logger);\n      this.window[name] = this.loggers[this.loggers.length - 1];\n      return this.loggers[this.loggers.length - 1];\n    }\n  }, {\n    key: \"getLogger\",\n    value: function getLogger(name) {\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this.loggers[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var logger = _step.value;\n\n          if (logger.name === name) {\n            return logger;\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return null;\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      this.loggers.map(function (logger) {\n        console.log(\"\", logger);\n      });\n    }\n  }, {\n    key: \"disableLoggers\",\n    value: function disableLoggers() {\n      this.loggers.map(function (logger) {\n        logger.testing = false;\n      });\n    }\n  }, {\n    key: \"enableLoggers\",\n    value: function enableLoggers() {\n      this.loggers.map(function (logger) {\n        logger.testing = true;\n      });\n    }\n  }]);\n\n  return Logmon;\n}();\n\nvar Logger = exports.Logger = function () {\n  function Logger(name) {\n    _classCallCheck(this, Logger);\n\n    this.name = name;\n    this.size = 5000;\n\n    this.log = [];\n    this.currentIndent = \"\";\n    this.indent = \"--- \";\n\n    this.timer = {};\n\n    this.testRunning = \"\";\n    this.testLevel = 0;\n    this.testing = true;\n    this.consoling = true;\n  }\n\n  _createClass(Logger, [{\n    key: \"setTestLevel\",\n    value: function setTestLevel(level) {\n      this.testLevel = level;\n    }\n  }, {\n    key: \"testRun\",\n    value: function testRun(what) {\n      this.testRunning = what;\n    }\n  }, {\n    key: \"resetLogs\",\n    value: function resetLogs() {\n      this.log = [];\n      this.currentIndent = \"\";\n    }\n  }, {\n    key: \"timerStart\",\n    value: function timerStart(where) {\n      if (this.testing) {\n        this.timer[where] = performance.now();\n      }\n    }\n  }, {\n    key: \"timerEnd\",\n    value: function timerEnd(where) {\n      if (this.testing) {\n        var timed = performance.now() - this.timer[where];\n        if (this.consoling) {\n          console.log(this.currentIndent + where + \" done in time \" + timed + \"ms\");\n        }\n      }\n    }\n  }, {\n    key: \"append\",\n    value: function append(string) {\n      if (this.testing) {\n        var logged = this.currentIndent + string;\n        if (this.consoling) {\n          console.log(logged);\n        }\n        if (this.log.length === this.size) {\n          this.log.splice(0, 1);\n        }\n        this.log.push(logged);\n      }\n    }\n  }, {\n    key: \"start\",\n    value: function start(string) {\n      if (this.testing || this.testRunning.length !== 0) {\n        var asString = \"\";\n        for (var i = 0; i < arguments.length; i++) {\n          asString += arguments[i].toString();\n        }\n        if (!this.testing && this.testRunning.length !== 0) {\n          if (string.indexOf(this.testRunning) !== -1) {\n            this.testing = true;\n          } else {\n            return;\n          }\n        }\n        var logged = this.currentIndent + string;\n        if (this.consoling) {\n          console.log(logged);\n          // console.log(\"arguments size \" + arguments.length);\n          // console.log(arguments);\n        }\n        if (this.log.length === this.size) {\n          this.log.splice(0, 1);\n        }\n        this.log.push(logged);\n        this.currentIndent += this.indent;\n      }\n    }\n  }, {\n    key: \"end\",\n    value: function end(string) {\n      if (this.testing) {\n        if (this.testRunning.length !== 0) {\n          if (string.indexOf(this.testRunning) !== -1) {\n            this.testing = false;\n            this.testRunning = \"\";\n          }\n        }\n        this.currentIndent = this.currentIndent.substring(0, this.currentIndent.length - this.indent.length);\n        var logged = this.currentIndent + string;\n        if (this.consoling) {\n          console.log(logged);\n        }\n        if (this.log.length === this.size) {\n          this.log.splice(0, 1);\n        }\n        this.log.push(logged);\n      }\n    }\n  }, {\n    key: \"trace\",\n    value: function trace() {\n      console.log(this.log.join(\"\\n\"));\n      console.log(\"--- TRACELOG(\" + this.name + \") size: \" + this.log.length + \" ---\");\n    }\n  }]);\n\n  return Logger;\n}();\n\nvar mockWindow = {};\nvar logmon = new Logmon(mockWindow);\nlogmon.createLoggerWithOptions(\"Logdef\", false, true);\nlogmon.createLoggerWithOptions(\"Logcal\", true, true);\nexports.default = logmon;\n\n},{}]},{},[1])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmNcXG1haW4uanMiLCJzcmNcXG1hdGgtY29tcG9uZW50c1xcTWF0aE9iamVjdC5qcyIsInNyY1xcbWF0aC1jb21wb25lbnRzXFxiYXNpY1xcTWF0aEJyYWNrZXRlZC5qcyIsInNyY1xcbWF0aC1jb21wb25lbnRzXFxiYXNpY1xcTWF0aEVxdWF0aW9uLmpzIiwic3JjXFxtYXRoLWNvbXBvbmVudHNcXGJhc2ljXFxNYXRoT3BlcmF0aW9uLmpzIiwic3JjXFxtYXRoLWNvbXBvbmVudHNcXGJhc2ljXFxNYXRoVGVybS5qcyIsInNyY1xcbWF0aC1jb21wb25lbnRzXFxwcm9iYWJpbGl0eVxcTWF0aEJpbm9taWFsLmpzIiwic3JjXFxtYXRoLWNvbXBvbmVudHNcXHByb2JhYmlsaXR5XFxNYXRoRmFjdG9yaWFsLmpzIiwic3JjXFxtYXRoLWNvbXBvbmVudHNcXHByb2JhYmlsaXR5XFxNYXRoUHJvYmFiaWxpdHkuanMiLCJzcmNcXHBhcnNpbmdcXEV2YWx1YXRvci5qcyIsInNyY1xccGFyc2luZ1xcTGF0ZXhQYXJzZXIuanMiLCJzcmNcXHV0aWxpdHlfc2VydmljZXNcXEZvcm11bGF0b3IuanMiLCJzcmNcXHV0aWxpdHlfc2VydmljZXNcXElkR2VuZXJhdG9yLmpzIiwic3JjXFx1dGlsaXR5X3NlcnZpY2VzXFxMb2dnZXIuanMiLCJzcmNcXHV0aWxpdHlfc2VydmljZXNcXExvZ21vbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDSUE7Ozs7QUFVQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBeUJBLElBQU0sTUFBTTtBQUNWLFVBQVEsMkJBQVI7Q0FESTs7Ozs7Ozs7OztBQUlOLElBQU0sY0FBYyxTQUFkLFdBQWMsQ0FBQyxjQUFELEVBQW9CO0FBQ3RDLE1BQUksY0FBSixFQUFvQjtBQUNsQixZQUFRLEdBQVIsQ0FBWSxZQUFaLEVBRGtCO0FBRWxCLFdB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QVFoQixZQUFJLFNBQVMsS0FBSyxhQUFMLEdBQXFCLE1BQXJCLENBUkc7QUFTaEIsWUFBSSxLQUFLLFNBQUwsRUFBZ0I7QUFDbEIsa0JBQVEsR0FBUixDQUFZLE1BQVosRUFEa0I7U0FBcEI7QUFHQSxZQUFJLEtBQUssR0FBTCxDQUFTLE1BQVQsS0FBb0IsS0FBSyxJQUFMLEVBQVc7QUFDakMsZUFBSyxHQUFMLENBQVMsTUFBVCxDQUFnQixDQUFoQixFQUFtQixDQUFuQixFQURpQztTQUFuQztBQUdBLGFBQUssR0FBTCxDQUFTLElBQVQsQ0FBYyxNQUFkLEVBZmdCO09BQWxCOzs7OzRCQWtCTTtBQUNOLGNBQVEsR0FBUixDQUFZLEtBQUssR0FBTCxDQUFTLElBQVQsQ0FBYyxJQUFkLENBQVosRUFETTtBQUVOLGNBQVEsR0FBUixDQUFZLGtCQUFrQixLQUFLLElBQUwsR0FBWSxVQUE5QixHQUEyQyxLQUFLLEdBQUwsQ0FBUyxNQUFULEdBQWtCLE1BQTdELENBQVosQ0FGTTs7OztTQWhHRzs7O0FBc0diLElBQUksYUFBYSxFQUFiO0FBQ0osSUFBSSxTQUFTLElBQUksTUFBSixDQUFXLFVBQVgsQ0FBVDtBQUNKLE9BQU8sdUJBQVAsQ0FBK0IsUUFBL0IsRUFBeUMsS0FBekMsRUFBZ0QsSUFBaEQ7QUFDQSxPQUFPLHVCQUFQLENBQStCLFFBQS9CLEVBQXlDLElBQXpDLEVBQStDLElBQS9DO2tCQUNlIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIi8vIGltcG9ydCBNYXRoT2JqZWN0IGZyb20gXCIuL21hdGgtY29tcG9uZW50cy9NYXRoT2JqZWN0XCI7XHJcbi8vIGltcG9ydCBNYXRoVGVybSBmcm9tIFwiLi9tYXRoLWNvbXBvbmVudHMvYmFzaWMvTWF0aFRlcm1cIjtcclxuLy8gaW1wb3J0IE1hdGhPcGVyYXRpb24gZnJvbSBcIi4vbWF0aC1jb21wb25lbnRzL2Jhc2ljL01hdGhPcGVyYXRpb25cIjtcclxuXHJcbmltcG9ydCBMYXRleFBhcnNlciBmcm9tIFwiLi9wYXJzaW5nL0xhdGV4UGFyc2VyXCI7XHJcblxyXG4vLyBpbXBvcnQgSURHIGZyb20gXCIuL3V0aWxpdHlfc2VydmljZXMvSWRHZW5lcmF0b3JcIjtcclxuLy8gaW1wb3J0IE9yZGVyZXIgZnJvbSBcIi4vdXRpbGl0eV9zZXJ2aWNlcy9PcmRlcmVyXCI7XHJcblxyXG4vKlxyXG4gKiBJbnN0YW5jZSBvZiBMb2dtb24gdXNlZCBmb3IgbG9nZ2luZ1xyXG4gKiBBbmQgbG9nZ2luZyBpcyBuZWVkZWQsIHRydXN0IG1lXHJcbiAqL1xyXG5cclxuaW1wb3J0IExvZ21vbiBmcm9tIFwiLi91dGlsaXR5X3NlcnZpY2VzL0xvZ21vblwiO1xyXG5cclxuLy8gTG9nbW9uLmNyZWF0ZUxvZ2dlcldpdGhPcHRpb25zKFwiTG9nY2FsXCIsIHRydWUsIHRydWUpO1xyXG5cclxuLy8gbGV0IGVxYyA9IHtcclxuLy8gICBDYWxjdWxhdG9yOiB7XHJcblxyXG4vLyAgIH0sXHJcbi8vICAgTWF0aENvbXBvbmVudHM6IHtcclxuLy8gICAgIEJhc2ljOiB7XHJcbi8vICAgICAgIE1hdGhUZXJtLFxyXG4vLyAgICAgICBNYXRoT3BlcmF0aW9uLFxyXG4vLyAgICAgfSxcclxuLy8gICAgIE1hdGhPYmplY3QsXHJcbi8vICAgfSxcclxuLy8gICBQYXJzaW5nOiB7XHJcbi8vICAgICBMYXRleFBhcnNlcixcclxuLy8gICB9LFxyXG4vLyAgIFV0aWxpdHlTZXJ2aWNlczoge1xyXG4vLyAgICAgSURHLFxyXG4vLyAgICAgT3JkZXJlcixcclxuLy8gICAgIFBlbmlzOiBcImFmaGhcIixcclxuLy8gICB9XHJcbi8vIH07XHJcblxyXG5jb25zdCBlcWMgPSB7XHJcbiAgUGFyc2VyOiBuZXcgTGF0ZXhQYXJzZXIoKSxcclxufVxyXG5cclxuY29uc3QgYWRkVG9XaW5kb3cgPSAod2luZG93SW5zdGFuY2UpID0+IHtcclxuICBpZiAod2luZG93SW5zdGFuY2UpIHtcclxuICAgIGNvbnNvbGUubG9nKFwid2VlIHdpbmRvd1wiKTtcclxuICAgIHdpbmRvdy5lcWMgPSBlcWM7XHJcbiAgfVxyXG59O1xyXG5cclxuYWRkVG9XaW5kb3cod2luZG93KTtcclxubW9kdWxlLmV4cG9ydHMgPSBlcWM7XHJcbiIsImltcG9ydCBJREcgZnJvbSBcIi4uL3V0aWxpdHlfc2VydmljZXMvSWRHZW5lcmF0b3JcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hdGhPYmplY3Qge1xyXG4gIGNvbnN0cnVjdG9yKHR5cGUpIHtcclxuICAgIHRoaXMudHlwZSA9IHR5cGU7XHJcbiAgICB0aGlzLmlkID0gSURHLm5leHRJZCgpO1xyXG4gICAgdGhpcy5vcmRlciA9IC0xO1xyXG4gICAgdGhpcy5taW51c3NpZ24gPSBmYWxzZTtcclxuICAgIHRoaXMucmVkdWNlZCA9IGZhbHNlO1xyXG4gICAgdGhpcy5leHBvbmVudCA9IFwiXCI7XHJcbiAgICB0aGlzLnBhcmVudCA9IG51bGw7XHJcbiAgfVxyXG4gIHNldFR5cGUobmFtZSkge1xyXG4gICAgdGhpcy50eXBlID0gbmFtZTtcclxuICB9XHJcbiAgY29udGFpbnNFeHBvbmVudCgpIHtcclxuICAgIHJldHVybiAodGhpcy5leHBvbmVudCAmJiB0aGlzLmV4cG9uZW50Lmxlbmd0aCAhPT0gMCk7XHJcbiAgfVxyXG4gIC8qXHJcbiAgICogQmVsb3cgYWxsIHRoZSBtZXRob2RzIHRvIGJlIG92ZXJyaWRkZW5cclxuICAgKi9cclxuICBzZXRPcmRlcihkZXB0aCkge1xyXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgJHt0aGlzLnR5cGV9IG11c3Qgb3ZlcnJpZGUgbWV0aG9kIHNldE9yZGVyYCk7XHJcbiAgfVxyXG4gIHNldEV4cG9uZW50KGV4cG9uZW50KSB7XHJcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGAke3RoaXMudHlwZX0gbXVzdCBvdmVycmlkZSBtZXRob2Qgc2V0RXhwb25lbnRgKTtcclxuICB9XHJcbiAgcmV0dXJuQ29udGVudExpc3QoKSB7XHJcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGAke3RoaXMudHlwZX0gbXVzdCBvdmVycmlkZSBtZXRob2QgcmV0dXJuQ29udGVudExpc3RgKTtcclxuICB9XHJcbiAgc3dpdGNoU2lnbigpIHtcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYCR7dGhpcy50eXBlfSBtdXN0IG92ZXJyaWRlIG1ldGhvZCBzd2l0Y2hTaWduYCk7XHJcbiAgfVxyXG4gIGlzRXF1YWwoKSB7XHJcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGAke3RoaXMudHlwZX0gbXVzdCBvdmVycmlkZSBtZXRob2QgaXNFcXVhbGApO1xyXG4gIH1cclxuICBpc1Rlcm0oKSB7XHJcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGAke3RoaXMudHlwZX0gbXVzdCBvdmVycmlkZSBtZXRob2QgaXNUZXJtYCk7XHJcbiAgfVxyXG4gIGlzT3BlcmF0aW9uKCkge1xyXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgJHt0aGlzLnR5cGV9IG11c3Qgb3ZlcnJpZGUgbWV0aG9kIGlzT3BlcmF0aW9uYCk7XHJcbiAgfVxyXG4gIGlzQnJhY2tldGVkKCkge1xyXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgJHt0aGlzLnR5cGV9IG11c3Qgb3ZlcnJpZGUgbWV0aG9kIGlzQnJhY2tldGVkYCk7XHJcbiAgfVxyXG4gIGlzU3BlY2lhbCgpIHtcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYCR7dGhpcy50eXBlfSBtdXN0IG92ZXJyaWRlIG1ldGhvZCBpc1NwZWNpYWxgKTtcclxuICB9XHJcbiAgaXNFbXB0eSgpIHtcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYCR7dGhpcy50eXBlfSBtdXN0IG92ZXJyaWRlIG1ldGhvZCBpc0VtcHR5YCk7XHJcbiAgfVxyXG4gIGluY2x1ZGVzVmFyaWFibGUodmFyaWFibGUpIHtcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYCR7dGhpcy50eXBlfSBtdXN0IG92ZXJyaWRlIG1ldGhvZCBpbmNsdWRlc1ZhcmlhYmxlYCk7XHJcbiAgfVxyXG4gIHRvTGF0ZXgoKSB7XHJcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGAke3RoaXMudHlwZX0gbXVzdCBvdmVycmlkZSBtZXRob2QgdG9MYXRleGApO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgTWF0aE9iamVjdCBmcm9tIFwiLi4vTWF0aE9iamVjdFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWF0aEJyYWNrZXRlZCBleHRlbmRzIE1hdGhPYmplY3Qge1xyXG5cclxufVxyXG4iLCJpbXBvcnQgTWF0aE9iamVjdCBmcm9tIFwiLi4vTWF0aE9iamVjdFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWF0aEVxdWF0aW9uIGV4dGVuZHMgTWF0aE9iamVjdCB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICBzdXBlcihcIkVxdWF0aW9uXCIpO1xyXG4gICAgdGhpcy5sZWZ0c2lkZSA9IFtdO1xyXG4gICAgdGhpcy5yaWdodHNpZGUgPSBbXTtcclxuICB9XHJcbiAgdG9MYXRleCgpIHtcclxuICAgIGxldCBsYXRleCA9IFwiXCI7XHJcbiAgICBjb25zdCBsYXRleFNpZGUgPSAoc2lkZSkgPT4ge1xyXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpZGUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZiAoc2lkZVtpXS5taW51c3NpZ24pIHtcclxuICAgICAgICAgIGxhdGV4ICs9IHNpZGVbaV0udG9MYXRleCgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpZiAoaSAhPT0gMCkge1xyXG4gICAgICAgICAgICBsYXRleCArPSBcIitcIjtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGxhdGV4ICs9IHNpZGVbaV0udG9MYXRleCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIGxhdGV4U2lkZSh0aGlzLmxlZnRzaWRlKTtcclxuICAgIGxhdGV4ICs9IFwiPVwiO1xyXG4gICAgbGF0ZXhTaWRlKHRoaXMucmlnaHRzaWRlKTtcclxuICAgIHJldHVybiBsYXRleDtcclxuICB9XHJcbiAgdG9TdHJpbmcoKSB7XHJcbiAgICBsZXQgc3RyaW5nID0gXCJcIjtcclxuICAgIGNvbnN0IHN0cmluZ1NpZGUgPSAoc2lkZSkgPT4ge1xyXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpZGUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZiAoIXNpZGVbaV0ubWludXNzaWduICYmIGkgIT09IDApIHtcclxuICAgICAgICAgIHN0cmluZyArPSBcIitcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgc3RyaW5nICs9IHNpZGVbaV0udG9TdHJpbmcoKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIHN0cmluZ1NpZGUodGhpcy5sZWZ0c2lkZSk7XHJcbiAgICBzdHJpbmcgKz0gXCIgPSBcIjtcclxuICAgIHN0cmluZ1NpZGUodGhpcy5yaWdodHNpZGUpO1xyXG4gICAgcmV0dXJuIHN0cmluZztcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IE1hdGhPYmplY3QgZnJvbSBcIi4uL01hdGhPYmplY3RcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hdGhPcGVyYXRpb24gZXh0ZW5kcyBNYXRoT2JqZWN0IHtcclxuICBjb25zdHJ1Y3RvcihmYWN0b3JvbmUsIHR5cGUsIGZhY3RvcnR3bykge1xyXG4gICAgc3VwZXIoXCJPcGVyYXRpb25cIik7XHJcblxyXG4gICAgdGhpcy5maXJzdGZhY3RvciA9IGZhY3Rvcm9uZTtcclxuICAgIHRoaXMub3BlcmF0aW9uID0gdHlwZSA9PT0gXCIoXCIgPyBcIipcIiA6IHR5cGU7XHJcbiAgICB0aGlzLnNlY29uZGZhY3RvciA9IGZhY3RvcnR3bztcclxuXHJcbiAgICB0aGlzLmlzZnJhY3Rpb24gPSB0aGlzLm9wZXJhdGlvbiA9PT0gXCIvXCI7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBNYXRoT2JqZWN0IGZyb20gXCIuLi9NYXRoT2JqZWN0XCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYXRoVGVybSBleHRlbmRzIE1hdGhPYmplY3Qge1xyXG4gIGNvbnN0cnVjdG9yKHZhcmlhYmxlLCB2YWx1ZSwgZXhwb25lbnQpIHtcclxuICAgIHN1cGVyKFwiVGVybVwiKTtcclxuXHJcbiAgICB0aGlzLnZhcmlhYmxlID0gdmFyaWFibGU7XHJcbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XHJcbiAgICAvLyB0aGlzLnZhbHVlID0gbmV3IEJpZyh2YWx1ZSk7XHJcbiAgICB0aGlzLmV4cG9uZW50ID0gZXhwb25lbnQ7XHJcbiAgfVxyXG5cclxuICBnZXRWYWx1ZSgpIHtcclxuICAgIHJldHVybiB0aGlzLnZhbHVlO1xyXG4gICAgLy8gcmV0dXJuIHBhcnNlRmxvYXQodGhpcy52YWx1ZS50b1N0cmluZygpKTtcclxuICB9XHJcblxyXG4gIHRvTGF0ZXgoKSB7XHJcbiAgICBsZXQgbGF0ZXggPSBcIlwiO1xyXG4gICAgY29uc3QgdmFsID0gdGhpcy5nZXRWYWx1ZSgpO1xyXG4gICAgaWYgKCF0aGlzLnZhcmlhYmxlKSB7XHJcbiAgICAgIGxhdGV4ICs9IHZhbDtcclxuICAgIH0gZWxzZSBpZiAodmFsID09PSAxICYmIHRoaXMudmFyaWFibGUpIHtcclxuICAgICAgbGF0ZXggKz0gdGhpcy52YXJpYWJsZTtcclxuICAgIH0gZWxzZSBpZiAodmFsID09PSAtMSAmJiB0aGlzLnZhcmlhYmxlKSB7XHJcbiAgICAgIGxhdGV4ICs9IFwiLVwiICsgdGhpcy52YXJpYWJsZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGxhdGV4ICs9IHZhbCArIHRoaXMudmFyaWFibGU7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5jb250YWluc0V4cG9uZW50KCkpIHtcclxuICAgICAgbGF0ZXggKz0gXCJee1wiO1xyXG4gICAgICBpZiAodGhpcy5leHBvbmVudC5pc0JyYWNrZXRlZCgpKSB7XHJcbiAgICAgICAgbGF0ZXggKz0gdGhpcy5leHBvbmVudC50b0xhdGV4V2l0aG91dEJyYWNrZXRzKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbGF0ZXggKz0gdGhpcy5leHBvbmVudC50b0xhdGV4KCk7XHJcbiAgICAgIH1cclxuICAgICAgbGF0ZXggKz0gXCJ9XCI7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbGF0ZXg7XHJcbiAgfVxyXG5cclxuICB0b1N0cmluZygpIHtcclxuICAgIGxldCBsYXRleCA9IFwiXCI7XHJcbiAgICBjb25zdCB2YWwgPSB0aGlzLmdldFZhbHVlKCk7XHJcbiAgICBpZiAoIXRoaXMudmFyaWFibGUpIHtcclxuICAgICAgbGF0ZXggKz0gdmFsO1xyXG4gICAgfSBlbHNlIGlmICh2YWwgPT09IDEgJiYgdGhpcy52YXJpYWJsZSkge1xyXG4gICAgICBsYXRleCArPSB0aGlzLnZhcmlhYmxlO1xyXG4gICAgfSBlbHNlIGlmICh2YWwgPT09IC0xICYmIHRoaXMudmFyaWFibGUpIHtcclxuICAgICAgbGF0ZXggKz0gXCItXCIgKyB0aGlzLnZhcmlhYmxlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbGF0ZXggKz0gdmFsICsgdGhpcy52YXJpYWJsZTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLmNvbnRhaW5zRXhwb25lbnQoKSkge1xyXG4gICAgICBsYXRleCArPSBcIl57XCI7XHJcbiAgICAgIGlmICh0aGlzLmV4cG9uZW50LmlzQnJhY2tldGVkKCkpIHtcclxuICAgICAgICBsYXRleCArPSB0aGlzLmV4cG9uZW50LnRvU3RyaW5nKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbGF0ZXggKz0gdGhpcy5leHBvbmVudC50b1N0cmluZygpO1xyXG4gICAgICB9XHJcbiAgICAgIGxhdGV4ICs9IFwifVwiO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGxhdGV4O1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgTWF0aE9iamVjdCBmcm9tIFwiLi4vTWF0aE9iamVjdFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWF0aEJpbm9taWFsIGV4dGVuZHMgTWF0aE9iamVjdCB7XHJcblxyXG59XHJcbiIsImltcG9ydCBNYXRoT2JqZWN0IGZyb20gXCIuLi9NYXRoT2JqZWN0XCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYXRoRmFjdG9yaWFsIGV4dGVuZHMgTWF0aE9iamVjdCB7XHJcblxyXG59XHJcbiIsImltcG9ydCBNYXRoT2JqZWN0IGZyb20gXCIuLi9NYXRoT2JqZWN0XCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYXRoQmlub21pYWwgZXh0ZW5kcyBNYXRoT2JqZWN0IHtcclxuXHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRXZhbHVhdG9yIHtcclxuICBpc1Rlcm0oaW5wdXRDaGFyKSB7XHJcbiAgICByZXR1cm4gKGlucHV0Q2hhciA+PSBcIjBcIiAmJiBpbnB1dENoYXIgPD0gXCI5XCIpIHx8IC9eW2EtekEtWl0qJC8udGVzdChpbnB1dENoYXIpO1xyXG4gIH1cclxuICBpc051bWVyaWMoaW5wdXRDaGFyKSB7XHJcbiAgICByZXR1cm4gKGlucHV0Q2hhciA+PSBcIjBcIiAmJiBpbnB1dENoYXIgPD0gXCI5XCIpIHx8IGlucHV0Q2hhciA9PT0gXCIuXCI7XHJcbiAgfVxyXG4gIGlzQWxwaGEoaW5wdXRDaGFyKSB7XHJcbiAgICByZXR1cm4gL15bYS16QS1aXSokLy50ZXN0KGlucHV0Q2hhcik7XHJcbiAgfVxyXG4gIGlzV2hpdGVzcGFjZShpbnB1dENoYXIpIHtcclxuICAgIHJldHVybiBpbnB1dENoYXIgPT09IFwiIFwiIHx8IGlucHV0Q2hhciA9PT0gXCJcXHRcIiB8fCBpbnB1dENoYXIgPT09IFwiXFxuXCI7XHJcbiAgfVxyXG4gIGlzUGFyc2FibGVDb21wb25lbnQoaW5wdXRDaGFyKSB7XHJcbiAgICByZXR1cm4gKGlucHV0Q2hhciA+PSBcIjBcIiAmJiBpbnB1dENoYXIgPD0gXCI5XCIpIHx8IC9eW2EtekEtWl0qJC8udGVzdChpbnB1dENoYXIpIHx8IGlucHV0Q2hhciA9PT0gXCJcXFxcXCI7XHJcbiAgfVxyXG4gIGlzQ29uam9pbmVkTXVsdGlwbGljYXRpb24oc2lnbmVkLCBjLCBsYXN0Y2hhciwgbGlzdCwgY29tcG9uZW50KSB7XHJcbiAgICByZXR1cm4gIXNpZ25lZCAmJiBjICE9PSBcIlxcXFxcIiAmJiBsYXN0Y2hhciAhPT0gXCI9XCIgJiYgbGlzdC5sZW5ndGggPiAxICYmIGxpc3RbbGlzdC5sZW5ndGggLSAyXS50eXBlICE9PSBcIlN5bWJvbFwiICYmIGNvbXBvbmVudC50eXBlICE9PSBcIlN5bWJvbFwiO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgTG9nbW9uIGZyb20gXCIuLi91dGlsaXR5X3NlcnZpY2VzL0xvZ21vblwiO1xyXG5jb25zdCBMb2djYWwgPSBMb2dtb24uZ2V0TG9nZ2VyKFwiTG9nY2FsXCIpO1xyXG5cclxuaW1wb3J0IEV2YWx1YXRvciBmcm9tIFwiLi9FdmFsdWF0b3JcIjtcclxuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi4vdXRpbGl0eV9zZXJ2aWNlcy9Mb2dnZXJcIjtcclxuXHJcbmltcG9ydCBNYXRoRXF1YXRpb24gZnJvbSBcIi4uL21hdGgtY29tcG9uZW50cy9iYXNpYy9NYXRoRXF1YXRpb25cIjtcclxuaW1wb3J0IE1hdGhUZXJtIGZyb20gXCIuLi9tYXRoLWNvbXBvbmVudHMvYmFzaWMvTWF0aFRlcm1cIjtcclxuaW1wb3J0IE1hdGhPcGVyYXRpb24gZnJvbSBcIi4uL21hdGgtY29tcG9uZW50cy9iYXNpYy9NYXRoT3BlcmF0aW9uXCI7XHJcbmltcG9ydCBNYXRoQnJhY2tldGVkIGZyb20gXCIuLi9tYXRoLWNvbXBvbmVudHMvYmFzaWMvTWF0aEJyYWNrZXRlZFwiO1xyXG5pbXBvcnQgTWF0aFByb2JhYmlsaXR5IGZyb20gXCIuLi9tYXRoLWNvbXBvbmVudHMvcHJvYmFiaWxpdHkvTWF0aFByb2JhYmlsaXR5XCI7XHJcbmltcG9ydCBNYXRoQmlub21pYWwgZnJvbSBcIi4uL21hdGgtY29tcG9uZW50cy9wcm9iYWJpbGl0eS9NYXRoQmlub21pYWxcIjtcclxuaW1wb3J0IE1hdGhGYWN0b3JpYWwgZnJvbSBcIi4uL21hdGgtY29tcG9uZW50cy9wcm9iYWJpbGl0eS9NYXRoRmFjdG9yaWFsXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMYXRleFBhcnNlciB7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5FdmFsdWF0b3IgPSBuZXcgRXZhbHVhdG9yKCk7XHJcbiAgICB0aGlzLmlucHV0ID0gXCJcIjtcclxuICAgIHRoaXMuaW5kZXggPSAwO1xyXG4gICAgdGhpcy5zdGF0dXMgPSBcIlwiO1xyXG4gICAgdGhpcy5iYWQgPSAwO1xyXG4gIH1cclxuXHJcbiAgc2V0SW5wdXQobGF0ZXgpIHtcclxuICAgIHRoaXMuaW5wdXQgPSBsYXRleDtcclxuICAgIHRoaXMuaW5kZXggPSAwO1xyXG4gICAgdGhpcy5zdGF0dXMgPSBcIlwiO1xyXG4gICAgdGhpcy5iYWQgPSAwO1xyXG4gICAgTG9nZ2VyLnJlc2V0TG9ncygpO1xyXG4gIH1cclxuXHJcbiAgcGFyc2VFcXVhdGlvbihsYXRleCkge1xyXG4gICAgTG9nY2FsLnN0YXJ0KFwiTGF0ZXhQYXJzZXIgcGFyc2VFcXVhdGlvbihsYXRleCk6IFwiICsgbGF0ZXgpO1xyXG4gICAgLy8gTG9nY2FsLnRpbWVyU3RhcnQoXCJMYXRleFBhcnNlciBwYXJzZUVxdWF0aW9uXCIpO1xyXG5cclxuICAgIHRoaXMuc2V0SW5wdXQobGF0ZXgpO1xyXG4gICAgY29uc3QgZXF1YXRpb24gPSBuZXcgTWF0aEVxdWF0aW9uKCk7XHJcbiAgICB0cnkge1xyXG4gICAgICBlcXVhdGlvbi5sZWZ0c2lkZSA9IHRoaXMucGFyc2VUb0NoYXIoXCI9XCIpO1xyXG4gICAgICBlcXVhdGlvbi5yaWdodHNpZGUgPSB0aGlzLnBhcnNlVG9DaGFyKFwiXFxcXFxcXFxcIik7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiTGF0ZXhQYXJzZXIgZXJyb3JlZCFcIiwgZSk7XHJcbiAgICAgIHRoaXMuc3RhdHVzID0gXCJQYXJzZXIgZXJyb3JcIjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBMb2djYWwudGltZXJFbmQoXCJMYXRleFBhcnNlciBwYXJzZUVxdWF0aW9uXCIpO1xyXG4gICAgTG9nY2FsLmFwcGVuZChcImVxdWF0aW9uKGxhdGV4KSBcIiArIGVxdWF0aW9uLnRvTGF0ZXgoKSk7XHJcbiAgICBMb2djYWwuZW5kKFwiRlJPTSBMYXRleFBhcnNlciBwYXJzZUVxdWF0aW9uOiBSRVRVUk4gZXF1YXRpb24gXCIgKyBlcXVhdGlvbi50b0xhdGV4KCkpO1xyXG4gICAgcmV0dXJuIGVxdWF0aW9uO1xyXG4gIH1cclxuXHJcbiAgcGFyc2VUb0NoYXIoZXhpdGluZ0NoYXIpIHtcclxuICAgIExvZ2NhbC5zdGFydChcInBhcnNlVG9DaGFyKGV4aXRpbmdDaGFyKTogXCIgKyBleGl0aW5nQ2hhcik7XHJcbiAgICBsZXQgbGlzdCA9IFtdLFxyXG4gICAgICBsYXN0Q2hhciA9IFwiXCIsXHJcbiAgICAgIGN1cnJlbnRDaGFyID0gXCJcIixcclxuICAgICAgbmVnYXRpdmUgPSBmYWxzZSxcclxuICAgICAgc2lnbmVkID0gZmFsc2UsXHJcbiAgICAgIGNvbXBvbmVudCA9IG51bGw7XHJcblxyXG4gICAgd2hpbGUgKHRoaXMuaW5kZXggPCB0aGlzLmlucHV0Lmxlbmd0aCkge1xyXG4gICAgICBpZiAodGhpcy5iYWQgPT09IDEwKSByZXR1cm4gbGlzdDtcclxuICAgICAgbGFzdENoYXIgPSB0aGlzLmdldExhc3RDaGFyKHRoaXMuaW5kZXgpO1xyXG4gICAgICBjdXJyZW50Q2hhciA9IHRoaXMuaW5wdXQuY2hhckF0KHRoaXMuaW5kZXgpO1xyXG5cclxuICAgICAgY29uc29sZS5sb2coY3VycmVudENoYXIpXHJcblxyXG4gICAgICBpZiAodGhpcy5FdmFsdWF0b3IuaXNQYXJzYWJsZUNvbXBvbmVudChjdXJyZW50Q2hhcikpIHtcclxuICAgICAgICBjb21wb25lbnQgPSB0aGlzLnBhcnNlTmV4dENvbXBvbmVudChsaXN0LCBzaWduZWQpO1xyXG4gICAgICAgIGlmIChjb21wb25lbnQpIHtcclxuICAgICAgICAgIGlmIChuZWdhdGl2ZSkge1xyXG4gICAgICAgICAgICBjb21wb25lbnQuc3dpdGNoU2lnbigpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgbGlzdC5wdXNoKGNvbXBvbmVudCk7XHJcbiAgICAgICAgICAvLyBjaGVja3MgZm9yIGlmIGN1cnJlbnQgY29tcG9uZW50IHdhcyBjb21tYW5kID4gbm8gbXVsdGlwbGljYXRpb24gYXMgaXMgaXQgaGFuZGxlZFxyXG4gICAgICAgICAgLy8gYWxzbyBmb3Igbm90IHNlbGYvcHJldmlvdXMgY29tcG9uZW50IGJlaW5nIFN5bWJvbCBpZiBpbnNpZGUgcHJvYmFiaWxpdHlcclxuICAgICAgICAgIGlmICh0aGlzLkV2YWx1YXRvci5pc0NvbmpvaW5lZE11bHRpcGxpY2F0aW9uKHNpZ25lZCwgY3VycmVudENoYXIsIGxhc3RDaGFyLCBsaXN0LCBjb21wb25lbnQpKSB7XHJcbiAgICAgICAgICAgIExvZ2NhbC5hcHBlbmQoXCJpc0NvbmpvaW5lZE11bHRpcGxpY2F0aW9uID09PSBUUlVFXCIpO1xyXG4gICAgICAgICAgICBMb2djYWwuYXBwZW5kKFwiPkNyZWF0ZU11bHRpcGxhY3Rpb25Gcm9tTGlzdChsaXN0KSBsaXN0IFwiICsgbGlzdCk7XHJcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlTXVsdGlwbGljYXRpb25Gcm9tTGlzdChsaXN0KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIG5lZ2F0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICBzaWduZWQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSBpZiAoY3VycmVudENoYXIgPT09IGV4aXRpbmdDaGFyKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaW5kZXggIT09IHRoaXMuaW5wdXQubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgdGhpcy5wYXJzZUNoYXIoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgTG9nY2FsLmVuZChcIkZST00gcGFyc2VUb0NoYXI6IGV4aXRpbmdjaGFyIFwiICsgZXhpdGluZ0NoYXIgKyBcIiBSRVRVUk4gbGlzdCBcIiArIGxpc3QpO1xyXG4gICAgICAgIHJldHVybiBsaXN0O1xyXG4gICAgICB9IGVsc2UgaWYgKGN1cnJlbnRDaGFyID09PSBcIi1cIiB8fCBjdXJyZW50Q2hhciA9PT0gXCIrXCIpIHtcclxuICAgICAgICBzaWduZWQgPSB0cnVlO1xyXG4gICAgICAgIG5lZ2F0aXZlID0gdGhpcy5wYXJzZVNpZ24oKTtcclxuICAgICAgfSBlbHNlIGlmIChjdXJyZW50Q2hhciA9PT0gXCJeXCIpIHtcclxuICAgICAgICBjb21wb25lbnQgPSB0aGlzLnBhcnNlSWZFeHBvbmVudCgpO1xyXG4gICAgICAgIGlmIChjb21wb25lbnQpIHtcclxuICAgICAgICAgIGxpc3RbbGlzdC5sZW5ndGggLSAxXS5zZXRFeHBvbmVudChleHBvbmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIG5lZ2F0aXZlID0gZmFsc2U7IC8vIGhvdyBjb3VsZCB0aGVzZSBldmVuIGJlIHBvc3NpYmxlPz9cclxuICAgICAgICAvLyBzaWduZWQgPSBmYWxzZTtcclxuICAgICAgfSBlbHNlIGlmIChjdXJyZW50Q2hhciA9PT0gXCJfXCIpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcInVuZGVyc2NvcmUgXyBpbnB1dHRlZCBpbnNpZGUgcGFyc2VUb0NoYXIgYW5kIGl0J3Mgbm90IGltcGxlbWVudGVkLi4gOi9cIik7XHJcbiAgICAgICAgdGhpcy5pbmRleCsrO1xyXG4gICAgICB9IGVsc2UgaWYgKGN1cnJlbnRDaGFyID09PSBcIiFcIikge1xyXG4gICAgICAgIC8vIGZhY3RvcmlhbHMgYXJlbid0IGNvbnN1bWVkIGluIHBhcnNlQnJhY2tldGVkPy4uXHJcbiAgICAgICAgdGhpcy5pbmRleCsrO1xyXG4gICAgICB9IGVsc2UgaWYgKGN1cnJlbnRDaGFyID09PSBcIn1cIiB8fCBjdXJyZW50Q2hhciA9PT0gXCIpXCIpIHtcclxuICAgICAgICAvLyBkbyBudXR0aW5nLCBqdXN0IGNvbnN1bWUgdGhlIGNoYXI/XHJcbiAgICAgICAgdGhpcy5pbmRleCsrO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuYmFkKys7XHJcbiAgICAgICAgdGhpcy5pbmRleCsrO1xyXG4gICAgICAgIGlmICh0aGlzLmJhZCA9PT0gMTApIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKFwidG9vIG1hbnkgYmFkIGNoYXJhY3RlcnMgXCIgKyB0aGlzLmN1cnJlbnRseVBhcnNlZCgpKTtcclxuICAgICAgICAgIHRoaXMuc3RhdHVzID0gXCJCYWQgaW5wdXRcIjtcclxuICAgICAgICAgIExvZ2NhbC5lbmQoXCJGUk9NIHBhcnNlVG9DaGFyOiBleGl0aW5nQ2hhciBcIiArIGV4aXRpbmdDaGFyICsgXCIgUkVUVVJOIGxpc3QgXCIgKyBsaXN0KTtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkJhZCBpbnB1dFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbmVnYXRpdmUgPSBmYWxzZTtcclxuICAgICAgICBzaWduZWQgPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgTG9nY2FsLmVuZChcIkZST00gcGFyc2VUb0NoYXI6IGV4aXRpbmdDaGFyIFwiICsgZXhpdGluZ0NoYXIgKyBcIiBSRVRVUk4gbGlzdCBcIiArIGxpc3QpO1xyXG4gICAgcmV0dXJuIGxpc3Q7XHJcbiAgfVxyXG5cclxuICBwYXJzZU5leHRDb21wb25lbnQobGlzdCwgc2lnbmVkKSB7XHJcbiAgICBMb2djYWwuc3RhcnQoXCJwYXJzZU5leHRDb21wb25lbnQobGlzdCwgc2lnbmVkKTogXCIgKyBsaXN0ICsgXCIsIFwiICsgc2lnbmVkKTtcclxuICAgIGxldCBjb21wb25lbnQgPSBudWxsLFxyXG4gICAgICBjdXJyZW50Q2hhciA9IHRoaXMucGFyc2VJZldoaXRlc3BhY2UoKTtcclxuXHJcbiAgICAvLyB0aGlzLnBhcnNlSWZXaGl0ZXNwYWNlKCk7XHJcbiAgICAvLyBjdXJyZW50Q2hhciA9IHRoaXMuaW5wdXQuY2hhckF0KHRoaXMuaW5kZXgpO1xyXG5cclxuICAgIGlmIChjdXJyZW50Q2hhciA9PT0gXCJQXCIpIHtcclxuICAgICAgY3VycmVudENoYXIgPSB0aGlzLmNoZWNrSWZOZXh0SXMoXCJcXFxcbGVmdChcIik7XHJcbiAgICAgIGlmIChjdXJyZW50Q2hhcikge1xyXG4gICAgICAgIGNvbXBvbmVudCA9IHRoaXMucGFyc2VQcm9iYWJpbGl0eSgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbXBvbmVudCA9IHRoaXMucGFyc2VUZXJtKCk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAodGhpcy5FdmFsdWF0b3IuaXNUZXJtKGN1cnJlbnRDaGFyKSkge1xyXG4gICAgICBjb21wb25lbnQgPSB0aGlzLnBhcnNlVGVybSgpO1xyXG4gICAgfSBlbHNlIGlmIChjdXJyZW50Q2hhciA9PT0gXCJcXFxcXCIpIHtcclxuICAgICAgdGhpcy5wYXJzZUNvbW1hbmQobGlzdCwgc2lnbmVkKTtcclxuICAgICAgY29tcG9uZW50ID0gbGlzdC5zcGxpY2UobGlzdC5sZW5ndGggLSAxLCAxKVswXTtcclxuICAgICAgLy8gY29tcG9uZW50ID0gbGlzdFtsaXN0Lmxlbmd0aC0xXTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiVW5rbm93biBjdXJyZW50Q2hhcihcIiArIGN1cnJlbnRDaGFyICsgXCIpIGluIHBhcnNlTmV4dENvbXBvbmVudFwiKTtcclxuICAgICAgTG9nY2FsLmVuZChcIkZST00gcGFyc2VOZXh0Q29tcG9uZW50OiBSRVRVUk4gY29tcG9uZW50IFwiICsgY29tcG9uZW50KTtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBjdXJyZW50Q2hhcihcIiArIGN1cnJlbnRDaGFyICsgXCIpIGluIHBhcnNlTmV4dENvbXBvbmVudFwiKTtcclxuICAgICAgLy8gcmV0dXJuIGNvbXBvbmVudDtcclxuICAgIH1cclxuICAgIExvZ2NhbC5lbmQoXCJGUk9NIHBhcnNlTmV4dENvbXBvbmVudChsaXN0LCBzaWduZWQpOiBSRVRVUk4gY29tcG9uZW50IFwiICsgY29tcG9uZW50KTtcclxuICAgIHJldHVybiBjb21wb25lbnQ7XHJcbiAgfVxyXG5cclxuICBwYXJzZVRlcm0oKSB7XHJcbiAgICBMb2djYWwuc3RhcnQoXCJwYXJzZVRlcm0oKTpcIik7XHJcbiAgICBsZXQgdmFsdWUgPSBcIlwiLFxyXG4gICAgICB2YXJpYWJsZSA9IFwiXCIsXHJcbiAgICAgIHRlcm0sIGV4cG9uZW50LCBsb3dlciA9IFwiXCIsXHJcbiAgICAgIGN1cnJlbnRDaGFyID0gdGhpcy5pbnB1dC5jaGFyQXQodGhpcy5pbmRleCksXHJcbiAgICAgIGZhY3RvcmlhbCA9IGZhbHNlO1xyXG5cclxuICAgIHdoaWxlICh0aGlzLkV2YWx1YXRvci5pc051bWVyaWMoY3VycmVudENoYXIpKSB7XHJcbiAgICAgIHZhbHVlICs9IGN1cnJlbnRDaGFyO1xyXG4gICAgICBjdXJyZW50Q2hhciA9IHRoaXMucGFyc2VDaGFyKCk7XHJcbiAgICB9XHJcbiAgICB3aGlsZSAodGhpcy5FdmFsdWF0b3IuaXNBbHBoYShjdXJyZW50Q2hhcikpIHtcclxuICAgICAgdmFyaWFibGUgKz0gY3VycmVudENoYXI7XHJcbiAgICAgIC8vIG1heWJlIGFkZCBjcmF6eSBmdW5jdGlvbmFsaXR5IGZvciB4eCBub3RhdGlvbiB3aGljaCBpcyB4XjJcclxuICAgICAgdGhpcy5hZGRBbHBoYUNoYXJUb1ZhcmlhYmxlcyhjdXJyZW50Q2hhcik7XHJcbiAgICAgIGN1cnJlbnRDaGFyID0gdGhpcy5wYXJzZUNoYXIoKTtcclxuICAgIH1cclxuICAgIGlmIChjdXJyZW50Q2hhciA9PT0gXCIhXCIpIHsgLy8gZmFjdG9yaWFsXHJcbiAgICAgIGZhY3RvcmlhbCA9IHRydWU7XHJcbiAgICAgIGN1cnJlbnRDaGFyID0gdGhpcy5wYXJzZUNoYXIoKTtcclxuICAgIH1cclxuICAgIGlmIChjdXJyZW50Q2hhciA9PT0gXCJfXCIpIHsgLy8gaGFzIGEgdW5kZXJzY29yZSBub3RhdGlvblxyXG4gICAgICBjdXJyZW50Q2hhciA9IHRoaXMucGFyc2VDaGFyKCk7XHJcbiAgICAgIGlmIChjdXJyZW50Q2hhciA9PT0gXCJ7XCIpIHtcclxuICAgICAgICBsb3dlciA9IHRoaXMucGFyc2VUb0NoYXIoXCJ9XCIpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIG9ubHkgb25lIGNvbXBvbmVudCB3aGljaCBpcyB0ZXJtPz8/XHJcbiAgICAgICAgbG93ZXIgPSB0aGlzLnBhcnNlVGVybSgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBjdXJyZW50Q2hhciA9IHRoaXMuaW5wdXQuY2hhckF0KHRoaXMuaW5kZXgpOyAvLyBvciBwYXJzZUNoYXI/P1xyXG4gICAgZXhwb25lbnQgPSB0aGlzLnBhcnNlSWZFeHBvbmVudCgpO1xyXG4gICAgaWYgKGN1cnJlbnRDaGFyID09PSBcIidcIikge1xyXG4gICAgICBMb2djYWwuYXBwZW5kKFwiVHJhbnNmb3JtaW5nIFRlcm0gaW50byBjb21wbGVtZW50XCIpOyBcclxuICAgICAgYyA9IHRoaXMucGFyc2VDaGFyKCk7IFxyXG4gICAgICBleHBvbmVudCA9IG5ldyBNYXRoU3ltYm9sKFwibWF0aHNme2N9XCIpO1xyXG4gICAgfVxyXG4gICAgdmFsdWUgPSB2YWx1ZS5sZW5ndGggPT09IDAgPyAxIDogcGFyc2VGbG9hdCh2YWx1ZSk7XHJcbiAgICB0ZXJtID0gbmV3IE1hdGhUZXJtKHZhcmlhYmxlLCB2YWx1ZSwgZXhwb25lbnQpO1xyXG4gICAgaWYgKGZhY3RvcmlhbCkge1xyXG4gICAgICBMb2djYWwuYXBwZW5kKFwiV2hvcHMgJ1Rlcm0nIHdhcyBhY3R1YWxseSBmYWN0b3JpYWxcIik7XHJcbiAgICAgIHRlcm0gPSBuZXcgTWF0aEZhY3RvcmlhbCh0ZXJtKTtcclxuICAgIH1cclxuICAgIExvZ2NhbC5lbmQoXCJGUk9NIHBhcnNlVGVybSgpOiBSRVRVUk4gdGVybSBcIiArIHRlcm0pO1xyXG4gICAgcmV0dXJuIHRlcm07XHJcbiAgfVxyXG5cclxuICBwYXJzZUlmRXhwb25lbnQoKSB7XHJcbiAgICBMb2djYWwuc3RhcnQoXCJwYXJzZUlmRXhwb25lbnQoKTpcIik7XHJcbiAgICBjb25zdCBjdXJyZW50Q2hhciA9IHRoaXMucGFyc2VJZkNoYXIoXCJeXCIpO1xyXG4gICAgbGV0IGV4cG9uZW50ID0gXCJcIjtcclxuICAgIGlmIChjdXJyZW50Q2hhcikge1xyXG4gICAgICBpZiAoY3VycmVudENoYXIgPT09IFwie1wiKSB7XHJcbiAgICAgICAgbGV0IGxpc3QgPSBbXTtcclxuICAgICAgICB0aGlzLnBhcnNlQ3VybHlCcmFja2V0ZWQobGlzdCk7XHJcbiAgICAgICAgZXhwb25lbnQgPSBsaXN0WzBdLnJlZHVjZUFuZFJldHVybklmUG9zc2libGUoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBleHBvbmVudCA9IHRoaXMucGFyc2VUZXJtKCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIExvZ2NhbC5lbmQoXCJGUk9NIHBhcnNlSWZFeHBvbmVudCgpOiBSRVRVUk4gZXhwb25lbnQgXCIgKyBleHBvbmVudCk7XHJcbiAgICByZXR1cm4gZXhwb25lbnQ7XHJcbiAgfVxyXG5cclxuICBhZGRBbHBoYUNoYXJUb1ZhcmlhYmxlcyhhbHBoYUNoYXIpIHtcclxuICAgIHRoaXMudmFyaWFibGVzW2FscGhhQ2hhcl0gPyB0aGlzLnZhcmlhYmxlc1thbHBoYUNoYXJdKysgOiB0aGlzLnZhcmlhYmxlc1thbHBoYUNoYXJdID0gMTtcclxuICB9XHJcblxyXG4gIHBhcnNlQ2hhcigpIHtcclxuICAgIHRoaXMuaW5kZXgrKztcclxuICAgIHJldHVybiB0aGlzLmluZGV4IDwgdGhpcy5pbnB1dC5sZW5ndGggPyB0aGlzLmlucHV0LmNoYXJBdCh0aGlzLmluZGV4KSA6IFwiXFxcXFxcXFxcIjtcclxuICB9XHJcblxyXG4gIHBhcnNlSWZDaGFyKHJlcXVpcmVkQ2hhcikge1xyXG4gICAgcmV0dXJuIHRoaXMuaW5wdXQuY2hhckF0KHRoaXMuaW5kZXgpID09PSByZXF1aXJlZENoYXIgPyB0aGlzLnBhcnNlQ2hhcigpIDogXCJcIjtcclxuICB9XHJcblxyXG4gIHBhcnNlU2lnbigpIHtcclxuICAgIHZhciBuZWdhdGl2ZSA9IGZhbHNlO1xyXG4gICAgaWYgKC9eW1xcLV18W1xcK10vLnRlc3QodGhpcy5nZXRMYXN0Q2hhcih0aGlzLmluZGV4KSkpIHtcclxuICAgICAgbmVnYXRpdmUgPSB0aGlzLmdldExhc3RDaGFyKHRoaXMuaW5kZXgpID09PSBcIi1cIiA/ICFuZWdhdGl2ZSA6IG5lZ2F0aXZlO1xyXG4gICAgICB0aGlzLnBhcnNlQ2hhcigpO1xyXG4gICAgfVxyXG4gICAgTG9nY2FsLmFwcGVuZChcInBhcnNlU2lnbigpOiBSRVRVUk4gbmVnYXRpdmUgXCIgKyBuZWdhdGl2ZSk7XHJcbiAgICByZXR1cm4gbmVnYXRpdmU7XHJcbiAgfVxyXG5cclxuICBwYXJzZUlmV2hpdGVzcGFjZSgpIHtcclxuICAgIHdoaWxlICh0aGlzLkV2YWx1YXRvci5pc1doaXRlc3BhY2UodGhpcy5pbnB1dC5jaGFyQXQodGhpcy5pbmRleCkpICYmIHRoaXMuaW5kZXggPCB0aGlzLmlucHV0Lmxlbmd0aCkge1xyXG4gICAgICB0aGlzLmluZGV4Kys7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcy5pbnB1dC5jaGFyQXQodGhpcy5pbmRleCk7XHJcbiAgfVxyXG5cclxuICBnZXRMYXN0Q2hhcihpbmRleCkge1xyXG4gICAgd2hpbGUgKHRoaXMuRXZhbHVhdG9yLmlzV2hpdGVzcGFjZSh0aGlzLmlucHV0LmNoYXJBdChpbmRleCkpICYmIGluZGV4IDwgMCkge1xyXG4gICAgICBpbmRleC0tO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXMuaW5wdXQuY2hhckF0KGluZGV4KTtcclxuICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgRm9ybXVsYXRvciB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLmZvcm11bGFzID0gW1xyXG5cclxuICAgIF07XHJcbiAgfVxyXG4gIGdldEZvcm11bGFCeU5hbWUobmFtZSkge1xyXG5cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IG5ldyBGb3JtdWxhdG9yKCk7XHJcbiIsIi8qXHJcbiAqIElkIGdlbmVyYXRvciBmb3IgY3JlYXRpbmcgdW5pcXVlIGlkc1xyXG4gKi9cclxuZXhwb3J0IGNsYXNzIElkR2VuZXJhdG9yIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMubmV4dGlkID0gMDtcclxuICB9XHJcbiAgbmV4dElkKCkge1xyXG4gICAgcmV0dXJuIHRoaXMubmV4dGlkKys7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBuZXcgSWRHZW5lcmF0b3IoKTtcclxuIiwiaW1wb3J0IEZvcm11bGF0b3IgZnJvbSBcIi4vRm9ybXVsYXRvclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIExvZ2dlciB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLmxvZyA9IFtdO1xyXG4gICAgdGhpcy5tZXNzYWdlID0gXCJcIjtcclxuICAgIHRoaXMuZXF1YXRpb24gPSBudWxsO1xyXG4gIH1cclxuICBzZXRFcXVhdGlvbihlcXVhdGlvbikge1xyXG4gICAgdGhpcy5sb2cgPSBbXTtcclxuICAgIHRoaXMubWVzc2FnZSA9IFwiXCI7XHJcbiAgICB0aGlzLmVxdWF0aW9uID0gZXF1YXRpb247XHJcbiAgfVxyXG4gIHJlc2V0TG9ncygpIHtcclxuICAgIHRoaXMubG9nID0gW107XHJcbiAgICB0aGlzLm1lc3NhZ2UgPSBcIlwiO1xyXG4gIH1cclxuICBzZXRNZXNzYWdlKG1zZykge1xyXG4gICAgdGhpcy5tZXNzYWdlID0gbXNnO1xyXG4gIH1cclxuICAvLyBwdXNoU3RlcFdpdGhMYXRleFxyXG4gIGNyZWF0ZUxhdGV4KG5hbWUsIGxhdGV4KSB7XHJcbiAgICB0aGlzLmxvZy5wdXNoKHtcclxuICAgICAgbGF0ZXgsXHJcbiAgICAgIHN0ZXBOYW1lOiBuYW1lLFxyXG4gICAgICBmb3JtdWxhOiBcIlwiLFxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIC8vIHB1c2hTdGVwXHJcbiAgbmV3TGF0ZXgobmFtZSkge1xyXG4gICAgdGhpcy5sb2cucHVzaCh7XHJcbiAgICAgIGxhdGV4OiB0aGlzLmVxdWF0aW9uLnRvTGF0ZXgoKSxcclxuICAgICAgc3RlcE5hbWU6IG5hbWUsXHJcbiAgICAgIGZvcm11bGE6IFwiXCIsXHJcbiAgICB9KTtcclxuICB9XHJcbiAgLy8gcHVzaFN0ZXBXaXRoRm9ybXVsYVxyXG4gIG5ld0xhdGV4V2l0aEZvcm11bGEobmFtZSwgZm9ybXVsYU5hbWUsIHZhcmlhdGlvbikge1xyXG4gICAgY29uc3QgZm9ybXVsYSA9IEZvcm11bGF0b3IuZ2V0Rm9ybXVsYUJ5TmFtZShmb3JtdWxhTmFtZSk7XHJcbiAgICBpZiAodHlwZW9mIGZvcm11bGEgPT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgbmFtZSArPSBgXFxuVXNpbmcgZm9ybXVsYSAkJHtmb3JtdWxhLnZhcmlhdGlvbnNbdmFyaWF0aW9uXS5sYXRleH0kYDtcclxuICAgIH1cclxuICAgIHRoaXMubG9nLnB1c2goe1xyXG4gICAgICBsYXRleDogdGhpcy5lcXVhdGlvbi50b0xhdGV4KCksXHJcbiAgICAgIHN0ZXBOYW1lOiBuYW1lLFxyXG4gICAgICBmb3JtdWxhLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBuZXcgTG9nZ2VyKCk7XHJcbiIsImV4cG9ydCBjbGFzcyBMb2dtb24ge1xyXG4gIGNvbnN0cnVjdG9yKHdpbmRvd1JlZikge1xyXG4gICAgdGhpcy5sb2dnZXJzID0gW107XHJcbiAgICB0aGlzLndpbmRvdyA9IHdpbmRvd1JlZjtcclxuICB9XHJcbiAgY3JlYXRlTG9nZ2VyKG5hbWUpIHtcclxuICAgIHRoaXMubG9nZ2Vycy5wdXNoKG5ldyBMb2dnZXIobmFtZSkpO1xyXG4gICAgdGhpcy53aW5kb3dbbmFtZV0gPSB0aGlzLmxvZ2dlcnNbdGhpcy5sb2dnZXJzLmxlbmd0aCAtIDFdO1xyXG4gICAgcmV0dXJuIHRoaXMubG9nZ2Vyc1t0aGlzLmxvZ2dlcnMubGVuZ3RoIC0gMV07XHJcbiAgfVxyXG4gIGNyZWF0ZUxvZ2dlcldpdGhPcHRpb25zKG5hbWUsIHRlc3RpbmcsIGNvbnNvbGluZykge1xyXG4gICAgY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcihuYW1lKTtcclxuICAgIGxvZ2dlci50ZXN0aW5nID0gdGVzdGluZztcclxuICAgIGxvZ2dlci5jb25zb2xpbmcgPSBjb25zb2xpbmc7XHJcbiAgICB0aGlzLmxvZ2dlcnMucHVzaChsb2dnZXIpO1xyXG4gICAgdGhpcy53aW5kb3dbbmFtZV0gPSB0aGlzLmxvZ2dlcnNbdGhpcy5sb2dnZXJzLmxlbmd0aCAtIDFdO1xyXG4gICAgcmV0dXJuIHRoaXMubG9nZ2Vyc1t0aGlzLmxvZ2dlcnMubGVuZ3RoIC0gMV07XHJcbiAgfVxyXG4gIGdldExvZ2dlcihuYW1lKSB7XHJcbiAgICBmb3IgKGNvbnN0IGxvZ2dlciBvZiB0aGlzLmxvZ2dlcnMpIHtcclxuICAgICAgaWYgKGxvZ2dlci5uYW1lID09PSBuYW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIGxvZ2dlcjtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG4gIHNob3coKSB7XHJcbiAgICB0aGlzLmxvZ2dlcnMubWFwKGxvZ2dlciA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiXCIsIGxvZ2dlcik7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgZGlzYWJsZUxvZ2dlcnMoKSB7XHJcbiAgICB0aGlzLmxvZ2dlcnMubWFwKGxvZ2dlciA9PiB7XHJcbiAgICAgIGxvZ2dlci50ZXN0aW5nID0gZmFsc2U7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgZW5hYmxlTG9nZ2VycygpIHtcclxuICAgIHRoaXMubG9nZ2Vycy5tYXAobG9nZ2VyID0+IHtcclxuICAgICAgbG9nZ2VyLnRlc3RpbmcgPSB0cnVlO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgTG9nZ2VyIHtcclxuICBjb25zdHJ1Y3RvcihuYW1lKSB7XHJcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgdGhpcy5zaXplID0gNTAwMDtcclxuXHJcbiAgICB0aGlzLmxvZyA9IFtdO1xyXG4gICAgdGhpcy5jdXJyZW50SW5kZW50ID0gXCJcIjtcclxuICAgIHRoaXMuaW5kZW50ID0gXCItLS0gXCI7XHJcblxyXG4gICAgdGhpcy50aW1lciA9IHt9O1xyXG5cclxuICAgIHRoaXMudGVzdFJ1bm5pbmcgPSBcIlwiO1xyXG4gICAgdGhpcy50ZXN0TGV2ZWwgPSAwO1xyXG4gICAgdGhpcy50ZXN0aW5nID0gdHJ1ZTtcclxuICAgIHRoaXMuY29uc29saW5nID0gdHJ1ZTtcclxuICB9XHJcbiAgc2V0VGVzdExldmVsKGxldmVsKSB7XHJcbiAgICB0aGlzLnRlc3RMZXZlbCA9IGxldmVsO1xyXG4gIH1cclxuICB0ZXN0UnVuKHdoYXQpIHtcclxuICAgIHRoaXMudGVzdFJ1bm5pbmcgPSB3aGF0O1xyXG4gIH1cclxuICByZXNldExvZ3MoKSB7XHJcbiAgICB0aGlzLmxvZyA9IFtdO1xyXG4gICAgdGhpcy5jdXJyZW50SW5kZW50ID0gXCJcIjtcclxuICB9XHJcbiAgdGltZXJTdGFydCh3aGVyZSkge1xyXG4gICAgaWYgKHRoaXMudGVzdGluZykge1xyXG4gICAgICB0aGlzLnRpbWVyW3doZXJlXSA9IHBlcmZvcm1hbmNlLm5vdygpO1xyXG4gICAgfVxyXG4gIH1cclxuICB0aW1lckVuZCh3aGVyZSkge1xyXG4gICAgaWYgKHRoaXMudGVzdGluZykge1xyXG4gICAgICBjb25zdCB0aW1lZCA9IHBlcmZvcm1hbmNlLm5vdygpIC0gdGhpcy50aW1lclt3aGVyZV07XHJcbiAgICAgIGlmICh0aGlzLmNvbnNvbGluZykge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMuY3VycmVudEluZGVudCArIHdoZXJlICsgXCIgZG9uZSBpbiB0aW1lIFwiICsgdGltZWQgKyBcIm1zXCIpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIGFwcGVuZChzdHJpbmcpIHtcclxuICAgIGlmICh0aGlzLnRlc3RpbmcpIHtcclxuICAgICAgY29uc3QgbG9nZ2VkID0gdGhpcy5jdXJyZW50SW5kZW50ICsgc3RyaW5nO1xyXG4gICAgICBpZiAodGhpcy5jb25zb2xpbmcpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhsb2dnZWQpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICh0aGlzLmxvZy5sZW5ndGggPT09IHRoaXMuc2l6ZSkge1xyXG4gICAgICAgIHRoaXMubG9nLnNwbGljZSgwLCAxKTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLmxvZy5wdXNoKGxvZ2dlZCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHN0YXJ0KHN0cmluZykge1xyXG4gICAgaWYgKHRoaXMudGVzdGluZyB8fCB0aGlzLnRlc3RSdW5uaW5nLmxlbmd0aCAhPT0gMCkge1xyXG4gICAgICB2YXIgYXNTdHJpbmcgPSBcIlwiO1xyXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGFzU3RyaW5nICs9IGFyZ3VtZW50c1tpXS50b1N0cmluZygpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICghdGhpcy50ZXN0aW5nICYmIHRoaXMudGVzdFJ1bm5pbmcubGVuZ3RoICE9PSAwKSB7XHJcbiAgICAgICAgaWYgKHN0cmluZy5pbmRleE9mKHRoaXMudGVzdFJ1bm5pbmcpICE9PSAtMSkge1xyXG4gICAgICAgICAgdGhpcy50ZXN0aW5nID0gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICB2YXIgbG9nZ2VkID0gdGhpcy5jdXJyZW50SW5kZW50ICsgc3RyaW5nO1xyXG4gICAgICBpZiAodGhpcy5jb25zb2xpbmcpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhsb2dnZWQpO1xyXG4gICAgICAvLyBjb25zb2xlLmxvZyhcImFyZ3VtZW50cyBzaXplIFwiICsgYXJndW1lbnRzLmxlbmd0aCk7XHJcbiAgICAgIC8vIGNvbnNvbGUubG9nKGFyZ3VtZW50cyk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHRoaXMubG9nLmxlbmd0aCA9PT0gdGhpcy5zaXplKSB7XHJcbiAgICAgICAgdGhpcy5sb2cuc3BsaWNlKDAsIDEpO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMubG9nLnB1c2gobG9nZ2VkKTtcclxuICAgICAgdGhpcy5jdXJyZW50SW5kZW50ICs9IHRoaXMuaW5kZW50O1xyXG4gICAgfVxyXG4gIH1cclxuICBlbmQoc3RyaW5nKSB7XHJcbiAgICBpZiAodGhpcy50ZXN0aW5nKSB7XHJcbiAgICAgIGlmICh0aGlzLnRlc3RSdW5uaW5nLmxlbmd0aCAhPT0gMCkge1xyXG4gICAgICAgIGlmIChzdHJpbmcuaW5kZXhPZih0aGlzLnRlc3RSdW5uaW5nKSAhPT0gLTEpIHtcclxuICAgICAgICAgIHRoaXMudGVzdGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgdGhpcy50ZXN0UnVubmluZyA9IFwiXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuY3VycmVudEluZGVudCA9IHRoaXMuY3VycmVudEluZGVudC5zdWJzdHJpbmcoMCwgdGhpcy5jdXJyZW50SW5kZW50Lmxlbmd0aCAtIHRoaXMuaW5kZW50Lmxlbmd0aCk7XHJcbiAgICAgIHZhciBsb2dnZWQgPSB0aGlzLmN1cnJlbnRJbmRlbnQgKyBzdHJpbmc7XHJcbiAgICAgIGlmICh0aGlzLmNvbnNvbGluZykge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGxvZ2dlZCk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHRoaXMubG9nLmxlbmd0aCA9PT0gdGhpcy5zaXplKSB7XHJcbiAgICAgICAgdGhpcy5sb2cuc3BsaWNlKDAsIDEpO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMubG9nLnB1c2gobG9nZ2VkKTtcclxuICAgIH1cclxuICB9XHJcbiAgdHJhY2UoKSB7XHJcbiAgICBjb25zb2xlLmxvZyh0aGlzLmxvZy5qb2luKFwiXFxuXCIpKTtcclxuICAgIGNvbnNvbGUubG9nKFwiLS0tIFRSQUNFTE9HKFwiICsgdGhpcy5uYW1lICsgXCIpIHNpemU6IFwiICsgdGhpcy5sb2cubGVuZ3RoICsgXCIgLS0tXCIpO1xyXG4gIH1cclxufVxyXG5cclxubGV0IG1vY2tXaW5kb3cgPSB7fTtcclxubGV0IGxvZ21vbiA9IG5ldyBMb2dtb24obW9ja1dpbmRvdyk7XHJcbmxvZ21vbi5jcmVhdGVMb2dnZXJXaXRoT3B0aW9ucyhcIkxvZ2RlZlwiLCBmYWxzZSwgdHJ1ZSk7XHJcbmxvZ21vbi5jcmVhdGVMb2dnZXJXaXRoT3B0aW9ucyhcIkxvZ2NhbFwiLCB0cnVlLCB0cnVlKTtcclxuZXhwb3J0IGRlZmF1bHQgbG9nbW9uO1xyXG4iXX0=\n"],"sourceRoot":"/source/"}